(this["webpackJsonpfront-plataforma-qa"]=this["webpackJsonpfront-plataforma-qa"]||[]).push([[0],{113:function(e,t,a){},118:function(e,t,a){},120:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),s=a.n(o),l=(a(96),a(55),a(8)),c=a(14),i=a(30),u=a(3),m=a(4),d=a(6),p=a(5),g=a(2),f=a.n(g),h=a(37),E=a.n(h),v=(a(113),"https://testingapi_plataformaqa.solucionesdigitalesteco.com.ar/api/v1"),S={login:"".concat(v,"/login"),getUsers:"".concat(v,"/users"),createUser:"".concat(v,"/users/new"),deleteUser:"".concat(v,"/users/"),modifyUser:"".concat(v,"/users/"),changeStatus:"".concat(v,"/users/"),dashboard:"".concat(v,"/home"),passChange:"".concat(v,"/users/passchange/"),permissions:"".concat(v,"/permissions/"),frontUtilities:"".concat(v,"/frontUtilities"),getGroups:"".concat(v,"/groups"),getRoles:"".concat(v,"/roles"),sendNomina:"".concat(v,"/backoffice/nomina"),getAllPrograms:"".concat(v,"/programs"),getAllProgramsGroups:"".concat(v,"/programs/groups"),newPrograms:"".concat(v,"/programs/new"),getAllFiles:"".concat(v,"/analytics/file"),reasignProgram:"".concat(v,"/analytics/file"),download:"".concat(v,"/downloadFile"),files:"".concat(v,"/files"),getPartitureModels:"".concat(v,"/analytics/partituresModels"),getAllForms:"".concat(v,"/forms/customfields"),getAllPartitures:"".concat(v,"/analytics/partitures"),getAllPartituresModel:"".concat(v,"/analytics/partituresModels"),exportsDatabase:"".concat(v,"/backoffice/exports")},b=a(71),N=a.n(b),k=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).login=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.validator.allValid()?n.loginUser(a,r):(n.setState({redirect:!1}),n.validator.showMessages(),n.forceUpdate())},n.onChange=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value))},n.loginUser=function(e,t){e&&t&&f.a.post(S.login,{user:e,password:t}).then((function(e){e.data.Success?(sessionStorage.setItem("userData",JSON.stringify(e.data.loggedUser)),sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({redirect:!0})):sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token))})).catch((function(e){n.setState({username:"",password:"",wrongValidations:!0,errorMessage:e.response.data.Message}),console.warn(e)}))},n.state={username:"",password:"",redirect:!1,wrongValidations:!1,errorMessage:""},n.validator=new E.a({messages:{required:"Complet\xe1 este campo"}}),n}return Object(m.a)(a,[{key:"render",value:function(){return this.state.redirect||sessionStorage.getItem("userData")?r.a.createElement(c.a,{to:"/home"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"login",className:"signin-card"},r.a.createElement("div",{className:"logo-image"},r.a.createElement("img",{src:N.a,alt:"",title:"Logo",className:"Logo"})),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("div",{id:"form-login-username",className:"form-group"},r.a.createElement("input",{id:"username",onChange:this.onChange,className:"form-control loginForm",name:"username",type:"text",size:"18",alt:"login",value:this.state.username,required:!0}),r.a.createElement("div",{className:"error"},this.validator.message("title",this.state.username,"required")),r.a.createElement("span",{className:"form-highlight"}),r.a.createElement("span",{className:"form-bar"}),r.a.createElement("label",{htmlFor:"username",className:"float-label"},"login")),r.a.createElement("div",{id:"form-login-password",className:"form-group"},r.a.createElement("input",{id:"passwd",onChange:this.onChange,className:"form-control loginForm",name:"password",type:"password",size:"18",alt:"password",value:this.state.password,required:!0}),r.a.createElement("div",{className:"error"},this.validator.message("title",this.state.password,"required")),r.a.createElement("span",{className:"form-highlight"}),r.a.createElement("span",{className:"form-bar"}),r.a.createElement("label",{htmlFor:"password",className:"float-label"},"password")),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect",type:"submit",name:"Submit",alt:"sign in"},"Sign in"))),""!==this.state.errorMessage&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.errorMessage)))}}]),a}(n.Component),y=(a(118),a(66),function(){return sessionStorage.setItem("userData",""),sessionStorage.setItem("token",""),sessionStorage.clear(),window.location.href=document.location.origin,r.a.createElement(c.a,{to:"/"})}),O=function(e){var t=JSON.parse(sessionStorage.getItem("userData"));if(null!==t)for(var a=t.role[0].permissionAssign,n=0;n<a.length;n++){if(e===a[n].group)return!0}return!1},C=function(e){var t=JSON.parse(sessionStorage.getItem("userData"));if(null!==t)for(var a=t.role[0].permissionAssign,n=0;n<a.length;n++){if(e===a[n].route)return!0}return!1},I=function(e){var t=e.split(" "),a="";return t.map((function(e){switch(e){case"new":a+="puede agregar ";break;case"update":a+="puede actualizar ";break;case"delete":a+="puede borrar ";break;case"get":a+="puede consultar ";break;case"diabled":a+="puede desactivar ";break;case"passchange":a+="puede cambiar la contrase\xf1a ";break;case"importNomina":a+="puede importar una nueva nomina ";break;default:a+=e}return!0})),a},A=function(){return r.a.createElement("div",{className:"background-loading"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))},D=a(72),U=a.n(D),P=a(73),j=a(74),M=a.n(j),w=a(75),x=a.n(w),J=a(76),B=a.n(J),V=a(44),G=a.n(V),L=a(77),T=a.n(L),R=a(78),H=a.n(R),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={activo:!1},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"side__bar"},r.a.createElement("div",{className:"side__bar_container side__bar_inverse"},r.a.createElement("ul",{className:"parent__menu_holder side__bar_inverse"},r.a.createElement("span",{className:"LogoInMenu"},r.a.createElement(l.b,{to:"/home",activeClassName:""},r.a.createElement("img",{src:U.a,className:"LogoIn",alt:""}))),r.a.createElement("hr",null),O("users")&&r.a.createElement("li",{className:"nameMenu"},r.a.createElement(l.b,{to:"/users",activeClassName:"active"},r.a.createElement(M.a,{className:"IconoMenu"})),"Usuarios"),O("groups")&&r.a.createElement("li",{className:"nameMenu"},r.a.createElement(l.b,{to:"/groups",activeClassName:"active"},r.a.createElement(x.a,{className:"IconoMenu"})),"Grupos"),O("roles")&&r.a.createElement("li",{className:"nameMenu"},r.a.createElement(l.b,{to:"/roles",activeClassName:"active"},r.a.createElement(B.a,{className:"IconoMenu"})),"Roles"),O("")&&r.a.createElement("li",{className:"nameMenu"},r.a.createElement(l.b,{to:"/backoffice",activeClassName:"active"},r.a.createElement(G.a,{className:"IconoMenu"})),"Backoffice",r.a.createElement("span",{className:"showme"},C("GET|analytics/partituresModels/:id")&&r.a.createElement(l.b,{to:"/modelo-de-partituras"},"Modelo de partitura"),O("forms")&&r.a.createElement(l.b,{to:"/administracion-formularios"},"Administrador de formularios"),C("GET|backoffice/exports")&&r.a.createElement(l.b,{to:"/exportar-bases-de-datos"},"Exportar bases de datos"),C("GET|backoffice/exports")&&r.a.createElement(l.b,{to:"/biblioteca"},"Biblioteca de archivos general"))),O("programs")&&r.a.createElement("li",{className:"nameMenu"},r.a.createElement(T.a,{className:"IconoMenu"}),"Programas",r.a.createElement("span",{className:"showme"},r.a.createElement(l.b,{to:"/programas"},"Programas"),r.a.createElement(l.b,{to:"/programas/grupos"},"Grupos de programas"))),O("analytics")&&r.a.createElement("li",{className:"nameMenu"},r.a.createElement("div",{id:"parent",className:this.state.activo?"active":""},r.a.createElement(H.a,{className:"IconoMenu"}),r.a.createElement("span",{className:"showme"},C("GET|analytics/file")&&r.a.createElement(l.b,{to:"/perfilamiento"},"Perfilamiento"),C("GET|analytics/partitures/:id/:userId/:stepId")&&r.a.createElement(l.b,{to:"/partituras"},"Partituras")),"Analytics"))),r.a.createElement("span",{className:"version"},"V",P.a)))}}]),a}(n.Component),z=(a(120),a(1)),q=a.n(z),Y=a(79),Q=a.n(Y),W=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changePass=function(){var e=JSON.parse(sessionStorage.getItem("userData")),t=e.id;q()("Cambiando contrase\xf1a de ".concat(e.name,", ingres\xe1: "),{content:{element:"input",attributes:{placeholder:"Ingrese contrase\xf1a",type:"password"}}}).then((function(e){var a=JSON.parse(sessionStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}},r={password:e};f.a.post(S.passChange+t,r,n).then((function(e){e.data.Success?q()("Felicidades!","Contrase\xf1a cambiada!","success"):q()("Error!","Hubo un error al cambiar la contrase\xf1a!","error"),sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No has cambiado nada","info")):y(),console.log("Error: ",e)}))}))},n.salir=function(){return n.setState({redirect:!0}),y()},n.state={value:"user",redirect:!1},n}return Object(m.a)(a,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(c.a,{to:"/"});var e=JSON.parse(sessionStorage.getItem("token")),t=JSON.parse(sessionStorage.getItem("userData"));return null===e?r.a.createElement(c.a,{to:"/"}):r.a.createElement("div",{className:"containerIn"},r.a.createElement("p",{className:"iconsUser"},"Bienvenido ",t.name),r.a.createElement("button",{onClick:this.changePass},r.a.createElement(G.a,{className:"IconoMenu iconsUser",style:{fontSize:23}})),r.a.createElement("button",{onClick:this.salir},r.a.createElement(Q.a,{className:"IconoMenu iconsUser",style:{fontSize:23}})))}}]),a}(n.Component),Z=(a(122),a(16)),K=a.n(Z),X=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={value:"user",redirect:!1,userData:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.dashboard,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({userData:t.data.loggedUser})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(c.a,{to:"/"});if(null===JSON.parse(sessionStorage.getItem("token")))return r.a.createElement(c.a,{to:"/"});var e=this.state.userData;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(F,null)),r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"",className:"Logo2"})),r.a.createElement(W,null),r.a.createElement("div",{className:"dashboard"},e&&r.a.createElement("section",null,r.a.createElement("h2",null,"Mis datos"),r.a.createElement("article",null,r.a.createElement("h6",null,"ID"),r.a.createElement("span",null,e.id)),r.a.createElement("article",null,r.a.createElement("h6",null,"EMAIL"),r.a.createElement("span",null,e.email)),r.a.createElement("article",null,r.a.createElement("h6",null,"NAME & LASTNAME"),r.a.createElement("span",null,"".concat(e.name," ").concat(e.lastName))),r.a.createElement("article",null,r.a.createElement("h6",null,"Grupos"),r.a.createElement("div",{className:"multispan"},e.group.map((function(e){return r.a.createElement("span",null,e.name)})))),r.a.createElement("article",null,r.a.createElement("h6",null,"ROL"),r.a.createElement("span",null,e.role.role)))))}}]),a}(n.Component),_=a(15),$=a.n(_),ee=a(13),te=a.n(ee),ae=a(80),ne=a.n(ae),re=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).dynamicSort=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(a,n){return(a[e]<n[e]?-1:a[e]>n[e]?1:0)*t}},n.ascDesc=function(e){var t=n.state.allUsers.sort(n.dynamicSort(e));n.setState({searchedUsers:t})},n.buscar=function(){var e;n.title&&void 0!==n.title&&(e=n.title.value.toLocaleLowerCase());var t=[];n.state.allUsers.map((function(a){var n="".concat(a.name," ").concat(a.lastName);if(void 0!==e)if(e.indexOf("@")>=0)a.email.indexOf(e)>=0&&t.push(a);else if(a.id.indexOf(e)>=0)t.push(a);else if(n.indexOf(e)>=0)t.push(a);else if(a.legajo.indexOf(e)>=0)t.push(a);else{for(var r=n.split(" "),o=e.split(" "),s=0,l=0;l<r.length;l++)for(var c=0;c<o.length;c++)r[l].indexOf(o[c])>=0&&s++;s===o.length&&t.push(a)}else t.push(a);return!0})),n.setState({searchedUsers:t,actualPage:1})},n.editUser=function(e,t){e.preventDefault(),n.setState({editUser:!0,userSelected:t})},n.deleteUser=function(e,t){e.preventDefault(),n.setState({deleteUser:!0,userSelected:t})},n.addUser=function(e){e.preventDefault(),n.setState({addUser:!0})},n.changePassword=function(e){e.preventDefault(),n.setState({changePassword:!0})},n.logout=function(){sessionStorage.setItem("userData",""),sessionStorage.setItem("token",""),sessionStorage.clear(),n.setState({redirect:!0})},n.getUsersPage=function(e,t){var a=[],n=0;if(null!==t){n=Math.ceil(t.length/25);var r=25*(e-1),o=r+25;for(o>t.length&&(o=t.length);r<o;)a.push(t[r]),r++}return{total:a,cantOfPages:n}},n.state={term:"",encontrado:null,editUser:!1,addUser:!1,deleteUser:!1,userSelected:null,allUsers:null,searched:!1,error:!1,redirect:!1,changePassword:!1,actualPage:1,searchedUsers:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getUsers,{headers:{Authorization:a}}).then((function(t){e.setState({allUsers:t.data.Data}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.buscar()})).catch((function(t){e.setState({error:!0,redirect:!0}),t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){for(var e=this,t=this.state.searchedUsers,a=this.getUsersPage(this.state.actualPage,t),n=a.total,o=[],s=function(t){o.length<4&&o.push(r.a.createElement("button",{className:e.state.actualPage===t+1?"active":"",key:t,onClick:function(){e.setState({actualPage:t+1})}},t+1))},l=this.state.actualPage-1;l<a.cantOfPages;l++)s(l);return this.state.redirect?r.a.createElement(c.a,{to:"/home"}):this.state.editUser?r.a.createElement(c.a,{to:{pathname:"/editUser",state:{userSelected:this.state.userSelected}}}):this.state.addUser?r.a.createElement(c.a,{to:"/addUser"}):this.state.changePassword?r.a.createElement(c.a,{to:"/changePassword"}):this.state.deleteUser?r.a.createElement(c.a,{to:{pathname:"/deleteUser",state:{userSelected:this.state.userSelected}}}):r.a.createElement("div",null,r.a.createElement("div",{className:"tabla_parent"},r.a.createElement("h4",null,"USUARIOS"),r.a.createElement("div",{className:"flex-input-add"},C("GET|users/:id")&&r.a.createElement("input",{className:"form-control",type:"text",ref:function(t){e.title=t},placeholder:"Buscar",onChange:this.buscar}),C("POST|users/new")&&r.a.createElement("button",{className:"addItem morph",onClick:function(t){return e.addUser(t)}},r.a.createElement(ne.a,{className:"svgAddButton",style:{fontSize:33}})),this.state.error&&r.a.createElement("h1",null,"Hubo un error en la b\xfasqueda, int\xe9ntalo m\xe1s tarde")),null===this.state.allUsers&&r.a.createElement(r.a.Fragment,null,A()),r.a.createElement("table",{cellSpacing:"0"},r.a.createElement("thead",{className:"encabezadoTabla"},r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(t){t.preventDefault(),e.ascDesc("id")}},"ID"),r.a.createElement("th",{onClick:function(t){t.preventDefault(),e.ascDesc("name")}},"Nombre y apellido"),r.a.createElement("th",{onClick:function(t){t.preventDefault(),e.ascDesc("canal")}},"Canal"),r.a.createElement("th",null,"Mail"),r.a.createElement("th",null,"Legajo"),r.a.createElement("th",{onClick:function(t){t.preventDefault(),e.ascDesc("razonSocial")}},"Empresa"),r.a.createElement("th",null,"Sector"),r.a.createElement("th",{className:"tableIcons"},"Estado"),r.a.createElement("th",{className:"tableIcons"},"Editar"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,n&&n.map((function(t){return r.a.createElement("tr",{id:"parent",key:t.idDB},r.a.createElement("td",null,t.id),r.a.createElement("td",{className:"capitalize-complete-name"},t.name," ",t.lastName),r.a.createElement("td",null,t.canal),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.legajo),r.a.createElement("td",null,t.razonSocial),r.a.createElement("td",null,t.equipoEspecifico),r.a.createElement("td",{className:"tablaVariables"},r.a.createElement("div",{className:" ".concat(t.userActive?"estadoActivo":"estadoInactivo ")})),C("POST|users/:id")&&r.a.createElement("td",{id:"child",className:"celdaBtnHover",onClick:function(a){return e.editUser(a,t)}},r.a.createElement($.a,{style:{fontSize:15}})),!C("POST|users/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement($.a,null)),C("DELETE|users/:id")&&r.a.createElement("td",{id:"child2",className:"celdaBtnHover",onClick:function(a){return e.deleteUser(a,t)}},r.a.createElement(te.a,{style:{fontSize:15}})),!C("DELETE|users/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement(te.a,null)))})))),r.a.createElement("div",{className:"botones"},this.state.actualPage>1&&r.a.createElement("button",{onClick:function(){e.setState({actualPage:e.state.actualPage-1})}},"\u25c4"),o,this.state.actualPage!==a.cantOfPages&&r.a.createElement("button",{onClick:function(){e.setState({actualPage:e.state.actualPage+1})}},"\u25ba")),this.state.allUsers&&r.a.createElement("div",{className:"cantUsuarios"},"Cantidad de usuarios: ",this.state.allUsers.length)))}}]),a}(n.Component),oe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).logout=function(){sessionStorage.setItem("userData",""),sessionStorage.setItem("token",""),sessionStorage.clear(),e.setState({redirect:!0})},e.state={allUsers:null,redirect:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(re,{allUsers:this.state.allUsers}))}}]),a}(n.Component),se=a(82),le=a.n(se),ce=a(81),ie=a.n(ce),ue=a(83),me=a.n(ue),de=a(84),pe=a.n(de),ge=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logout=function(){sessionStorage.setItem("userData",""),sessionStorage.clear(),n.setState({redirect:!0})},n.state={redirect:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=JSON.parse(sessionStorage.getItem("userData"));return this.state.redirect||null===e?r.a.createElement(c.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement(W,null),r.a.createElement("div",{className:"header"},r.a.createElement(F,{name:e.name})),r.a.createElement("div",{className:"section-content"},r.a.createElement(oe,{userInfo:e})),r.a.createElement("div",{className:"footer"},r.a.createElement("div",null,r.a.createElement(ie.a,null),r.a.createElement(le.a,null),r.a.createElement(me.a,null)),r.a.createElement("div",null,r.a.createElement(pe.a,null))))}}]),a}(n.Component),fe=a(17),he=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t="";null!==e&&e.map((function(e){return t+=""===t?e.value:"|".concat(e.value),!0})),n.setState({groupsToSend:t})},n.state={value:"",groups:null,groupSelect:[],groupsToSend:""},n}return Object(m.a)(a,[{key:"searchDefault",value:function(){var e,t=this,a=[];return this.state.groupSelect.length>0&&this.props.defaultValue&&""===this.state.groupsToSend?(this.props.defaultValue.map((function(e){return t.state.groupSelect.map((function(t){return t.value===e.id&&a.push(t),!0})),!0})),a):this.state.groupsToSend?((e=this.state.groupsToSend.split("|")).map((function(n){return console.log(e),t.state.groupSelect.map((function(e){return e.value===n&&a.push(e),!0})),!0})),console.log(a),a):{label:"Seleccionar grupo...",value:""}}},{key:"componentDidMount",value:function(){var e=this,t=[];f.a.get(S.frontUtilities).then((function(a){e.setState({groups:a.data.Data.groups}),e.state.groups.map((function(e){var a={value:e.id,label:e.group};return t.push(a),!0})),e.setState({groupSelect:t})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this.state.groupSelect;return this.props.getValue(this.state.groupsToSend),r.a.createElement(fe.a,{isMulti:!0,name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value,value:this.searchDefault()})}}]),a}(n.Component),Ee=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState({rolesToSend:e.value})},n.state={value:"",groups:null,groupSelect:[],rolesToSend:n.props.defaultValue||""},n}return Object(m.a)(a,[{key:"searchDefault",value:function(){var e=this;return this.state.groupSelect.length>0&&this.props.defaultValue&&""===this.state.rolesToSend?this.state.groupSelect.filter((function(t){return t.value===e.props.defaultValue})):this.state.rolesToSend?this.state.groupSelect.filter((function(t){return t.value===e.state.rolesToSend})):{label:"Seleccionar rol...",value:""}}},{key:"componentDidMount",value:function(){var e=this,t=[];f.a.get(S.frontUtilities).then((function(a){e.setState({groups:a.data.Data.roles}),e.state.groups.map((function(e){var a={value:e.id,label:e.role};return t.push(a),!0})),e.setState({groupSelect:t})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this.state.groupSelect;return this.props.getValue(this.state.rolesToSend),r.a.createElement(fe.a,{name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value,value:this.searchDefault()})}}]),a}(n.Component),ve=(a(123),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changePass=function(t){t.preventDefault(),q()("Cambiando contrase\xf1a de ".concat(e.props.user.email,", ingres\xe1: "),{content:{element:"input",attributes:{placeholder:"Ingrese contrase\xf1a",type:"password"}}}).then((function(t){var a=JSON.parse(sessionStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}},r={password:t};f.a.post(S.passChange+e.props.user.id,r,n).then((function(e){e.data.Success?q()("Felicidades!","Contrase\xf1a cambiada!","success"):q()("Error!","Hubo un error al cambiar la contrase\xf1a!","error"),sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No has cambiado nada","info")):y(),console.log("Error: ",e)}))}))},e}return Object(m.a)(a,[{key:"render",value:function(){return null===JSON.parse(sessionStorage.getItem("token"))?r.a.createElement(c.a,{to:"/"}):r.a.createElement("div",{className:"container_password"},C("POST|users/passchange/:id")&&r.a.createElement("button",{onClick:this.changePass,className:"button-change-pass"},"Cambiar contrase\xf1a"))}}]),a}(n.Component)),Se=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.sexo=e.target.value},n.handleChangeStatus=function(e){n.userActive=e.target.value},n.handleChangeTurno=function(e){n.turno=e.target.value},n.modifyUser=function(){var e=JSON.parse(sessionStorage.getItem("token")),t={headers:{Authorization:"Bearer ".concat(e)}},a={name:n.name.value,lastName:n.lastName.value,role:n.role,legajo:n.legajo.value,email:n.email.value,phone:n.phone.value,sexo:n.sexo,userActive:n.userActive,fechaIngresoLinea:n.fechaIngresoLinea.value,fechaBaja:n.fechaBaja.value,motivoBaja:n.motivoBaja.value,propiedad:n.propiedad.value,canal:n.canal.value,negocio:n.negocio.value,razonSocial:n.razonSocial.value,edificioLaboral:n.edificioLaboral.value,gerencia1:n.gerencia1.value,nameG1:n.nameG1.value,gerencia2:n.gerencia2.value,nameG2:n.nameG2.value,jefeCoordinador:n.jefeCoordinador.value,responsable:n.responsable.value,supervisor:n.supervisor.value,lider:n.lider.value,provincia:n.provincia.value,region:n.region.value,subregion:n.subregion.value,equipoEspecifico:n.equipoEspecifico.value,puntoVenta:n.puntoVenta.value,group:n.group,turno:n.turno},r=n.props.location.state.userSelected.id;f.a.post(S.modifyUser+r,a,t).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({redirect:!0}),q()("Genial!","Usuario editado exitosamente!","success")})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))},n.state={userInfo:null,redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token"));if(null===t)return r.a.createElement(c.a,{to:"/"});if(!this.props.location.state)return this.setState({redirect:!0}),y();var a=this.props.location.state.userSelected.id,n={headers:{Authorization:"Bearer ".concat(t)}};f.a.get(S.getUsers+"/"+a,n).then((function(t){e.setState({userInfo:t.data.Data[0]}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error"),e.setState({redirect:!0})):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state.userInfo;return this.state.redirect?r.a.createElement(c.a,{to:"/users"}):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)),r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),C("POST|users/:id")&&r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",alt:"sign in",onClick:function(t){t.preventDefault(),e.modifyUser()}},"Guardar cambios"),null!==t&&r.a.createElement("form",{className:"inputsEditUser"},r.a.createElement("div",{className:"Label headEditUser"},"ID",r.a.createElement("input",{className:"form-control ".concat(t.userActive?"Activo":"Inactivo "),type:"text",placeholder:"id",name:"id",ref:function(t){return e.id=t},defaultValue:t.id?t.id:"",disabled:!0}),r.a.createElement("select",{onChange:this.handleChangeStatus},r.a.createElement("option",{value:t.userActive},t.userActive?"Activo":"Inactivo"),r.a.createElement("option",{value:!t.userActive},t.userActive?"Inactivo":"Activo")),null!==this.state.userInfo&&r.a.createElement(ve,{user:this.state.userInfo})),r.a.createElement("span",{className:"Label"},"Nombre"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"name",name:"name",ref:function(t){return e.name=t},defaultValue:t.name?t.name:""}),r.a.createElement("span",{className:"Label"},"Apellido"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"lastName",name:"lastName",ref:function(t){return e.lastName=t},defaultValue:t.lastName?t.lastName:""}),r.a.createElement(Ee,{getValue:function(t){return e.role=t},defaultValue:t.role.id?t.role.id:""}),r.a.createElement("span",{className:"Label"},"Legajo"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"legajo",ref:function(t){return e.legajo=t},defaultValue:t.legajo?t.legajo:""}),r.a.createElement("span",{className:"Label"},"Email"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"email",ref:function(t){return e.email=t},defaultValue:t.email?t.email:""}),r.a.createElement("span",{className:"Label"},"Telefono"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"phone",ref:function(t){return e.phone=t},defaultValue:t.phone?t.phone:""}),r.a.createElement("div",null,r.a.createElement("span",{className:"Label"},"Sexo"),r.a.createElement("select",{onChange:this.handleChange,selected:"OTRO"},r.a.createElement("option",{value:t.sexo},t.sexo||""),r.a.createElement("option",{value:"MASCULINO"},"Hombre"),r.a.createElement("option",{value:"FEMENINO"},"Mujer"),r.a.createElement("option",{value:"OTRO"},"Otro"))),r.a.createElement("span",{className:"Label"},"Fecha Ingreso"),r.a.createElement("input",{className:"form-control",type:"date",placeholder:"",ref:function(t){return e.fechaIngresoLinea=t},defaultValue:t.fechaIngresoLinea?t.fechaIngresoLinea:""}),r.a.createElement("span",{className:"Label"},"Fecha de baja"),r.a.createElement("input",{className:"form-control",type:"date",placeholder:"",ref:function(t){return e.fechaBaja=t},defaultValue:t.fechaBaja?t.fechaBaja:""}),r.a.createElement("span",{className:"Label"},"Motivo de baja"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.motivoBaja=t},defaultValue:t.motivoBaja?t.motivoBaja:""}),r.a.createElement("span",{className:"Label"},"Propiedad"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.propiedad=t},defaultValue:t.propiedad?t.propiedad:""}),r.a.createElement("span",{className:"Label"},"Canal"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.canal=t},defaultValue:t.canal?t.canal:""}),r.a.createElement("span",{className:"Label"},"Negocio"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.negocio=t},defaultValue:t.negocio?t.negocio:""}),r.a.createElement("span",{className:"Label"},"Raz\xf3n social"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.razonSocial=t},defaultValue:t.razonSocial?t.razonSocial:""}),r.a.createElement("span",{className:"Label"},"Edificio laboral"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.edificioLaboral=t},defaultValue:t.edificioLaboral?t.edificioLaboral:""}),r.a.createElement("span",{className:"Label"},"Gerencia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.gerencia1=t},defaultValue:t.gerencia1?t.gerencia1:""}),r.a.createElement("span",{className:"Label"},"Gerente"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.nameG1=t},defaultValue:t.nameG1?t.nameG1:""}),r.a.createElement("span",{className:"Label"},"Nombre Gerencia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.gerencia2=t},defaultValue:t.gerencia2?t.gerencia2:""}),r.a.createElement("span",{className:"Label"},"Coordinador"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.nameG2=t},defaultValue:t.nameG2?t.nameG2:""}),r.a.createElement("span",{className:"Label"},"Jefe Coordinador"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.jefeCoordinador=t},defaultValue:t.jefeCoordinador?t.jefeCoordinador:""}),r.a.createElement("span",{className:"Label"},"Responsable"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.responsable=t},defaultValue:t.responsable?t.responsable:""}),r.a.createElement("span",{className:"Label"},"Supervisor"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.supervisor=t},defaultValue:t.supervisor?t.supervisor:""}),r.a.createElement("span",{className:"Label"},"L\xedder"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.lider=t},defaultValue:t.lider?t.lider:""}),r.a.createElement("span",{className:"Label"},"Provincia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.provincia=t},defaultValue:t.provincia?t.provincia:""}),r.a.createElement("span",{className:"Label"},"Regi\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.region=t},defaultValue:t.region?t.region:""}),r.a.createElement("span",{className:"Label"},"Subregi\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.subregion=t},defaultValue:t.subregion?t.subregion:""}),r.a.createElement("span",{className:"Label"},"Equipo espec\xedfico"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.equipoEspecifico=t},defaultValue:t.equipoEspecifico?t.equipoEspecifico:""}),r.a.createElement("span",{className:"Label"},"Punto Venta"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.puntoVenta=t},defaultValue:t.puntoVenta?t.puntoVenta:""}),r.a.createElement(he,{getValue:function(t){return e.group=t},defaultValue:t.group?t.group:""}),r.a.createElement("select",{onChange:this.handleChangeTurno,className:"form-control select-t"},r.a.createElement("option",{value:t.turno?t.turno:"TM"},t.turno?"TM"===t.turno?"TM":"TT":"TM"),r.a.createElement("option",{value:t.turno?"TM"===t.turno?"TT":"TM":"TT"},t.turno&&"TT"===t.turno?"TM":"TT"))))}}]),a}(n.Component),be=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token"));if(null===t)return r.a.createElement(c.a,{to:"/"});if(!this.props.location.state)return this.setState({redirect:!0}),y();var a=this.props.location.state.userSelected.id,n={headers:{Authorization:"Bearer ".concat(t)}};q()({title:"\xbfEst\xe1s seguro?",text:"Una vez borrado el usuario, no podr\xe1s recuperarlo",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t?f.a.delete(S.getUsers+"/"+a,n).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),q()("El usuario ha sido borrado",{icon:"success"}),e.setState({redirect:!0})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error"),e.setState({redirect:!0})):y(),console.log("Error: ",t)})):(q()("Casi! El usuario NO ha sido borrado",{icon:"info"}),e.setState({redirect:!0}))}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/users"}):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)))}}]),a}(n.Component),Ne=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addUser=function(e){if(e.preventDefault(),n.validator.allValid()){var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={id:n.id.value,dni:n.dni.value,name:n.name.value,lastName:n.lastName.value,role:n.role,legajo:n.legajo.value,email:n.email.value,phone:n.phone.value,sexo:n.sexo,fechaIngresoLinea:n.fechaIngresoLinea.value,fechaBaja:n.fechaBaja.value,motivoBaja:n.motivoBaja.value,propiedad:n.propiedad.value,canal:n.canal.value,negocio:n.negocio.value,razonSocial:n.razonSocial.value,edificioLaboral:n.edificioLaboral.value,gerencia1:n.gerencia1.value,nameG1:n.nameG1.value,gerencia2:n.gerencia2.value,nameG2:n.nameG2.value,jefeCoordinador:n.jefeCoordinador.value,responsable:n.responsable.value,supervisor:n.supervisor.value,lider:n.lider.value,provincia:n.provincia.value,region:n.region.value,subregion:n.subregion.value,equipoEspecifico:n.equipoEspecifico.value,puntoVenta:n.puntoVenta.value,group:n.group,turno:n.turno};f.a.post(S.createUser,r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({redirect:!0}),q()("Usuario creado!","Ya se encuentra registrado","success")})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}else q()("Error!","Par\xe1metros inv\xe1lidos","error"),n.validator.showMessages(),n.forceUpdate()},n.handleChange=function(e){n.sexo=e.target.value},n.handleTurno=function(e){n.turno=e.target.value},n.state={groups:null,roles:null,redirect:!1},n.validator=new E.a({messages:{required:"Complet\xe1 este campo"}}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(S.frontUtilities).then((function(t){e.setState({groups:t.data.Data.groups,roles:t.data.Data.roles})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this;return null===JSON.parse(sessionStorage.getItem("token"))?r.a.createElement(c.a,{to:"/"}):this.state.redirect?r.a.createElement(c.a,{to:"/users"}):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)),r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement("form",{onSubmit:this.addUser,className:"inputsEditUser addUserPadding"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"id",name:"id",ref:function(t){return e.id=t},required:!0}),r.a.createElement("div",{className:"error"},this.validator.message("title",this.id,"required")),r.a.createElement("span",{className:"Label"},"Dni"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"dni",ref:function(t){return e.dni=t},required:!0}),r.a.createElement("span",{className:"Label"},"Nombre"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"name",ref:function(t){return e.name=t},required:!0}),r.a.createElement("span",{className:"Label"},"Apellido"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"lastName",ref:function(t){return e.lastName=t},required:!0}),r.a.createElement(Ee,{getValue:function(t){return e.role=t}}),r.a.createElement("span",{className:"Label"},"Legajo"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.legajo=t}}),r.a.createElement("span",{className:"Label"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",placeholder:"",ref:function(t){return e.email=t},required:!0}),r.a.createElement("span",{className:"Label"},"Telefono"),r.a.createElement("input",{className:"form-control",type:"tel",placeholder:"",ref:function(t){return e.phone=t}}),r.a.createElement("div",null,r.a.createElement("span",{className:"Label"},"Sexo"),r.a.createElement("select",{onChange:this.handleChange},r.a.createElement("option",{value:"MASCULINO"},"Hombre"),r.a.createElement("option",{value:"FEMENINO"},"Mujer"),r.a.createElement("option",{value:"OTRO"},"Otro"))),r.a.createElement("span",{className:"Label"},"Fecha Ingreso"),r.a.createElement("input",{className:"form-control",type:"date",placeholder:"",ref:function(t){return e.fechaIngresoLinea=t}}),r.a.createElement("span",{className:"Label"},"Fecha de baja"),r.a.createElement("input",{className:"form-control",type:"date",placeholder:"",ref:function(t){return e.fechaBaja=t}}),r.a.createElement("span",{className:"Label"},"Motivo de baja"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.motivoBaja=t}}),r.a.createElement("span",{className:"Label"},"Propiedad"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.propiedad=t}}),r.a.createElement("span",{className:"Label"},"Canal"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.canal=t}}),r.a.createElement("span",{className:"Label"},"Negocio"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.negocio=t}}),r.a.createElement("span",{className:"Label"},"Raz\xf3n social"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.razonSocial=t}}),r.a.createElement("span",{className:"Label"},"Edificio laboral"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.edificioLaboral=t}}),r.a.createElement("span",{className:"Label"},"Gerencia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.gerencia1=t}}),r.a.createElement("span",{className:"Label"},"Gerente"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.nameG1=t}}),r.a.createElement("span",{className:"Label"},"Nombre Gerencia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.gerencia2=t}}),r.a.createElement("span",{className:"Label"},"Coordinador"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.nameG2=t}}),r.a.createElement("span",{className:"Label"},"Jefe Coordinador"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.jefeCoordinador=t}}),r.a.createElement("span",{className:"Label"},"Responsable"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.responsable=t}}),r.a.createElement("span",{className:"Label"},"Supervisor"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.supervisor=t}}),r.a.createElement("span",{className:"Label"},"L\xedder"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.lider=t}}),r.a.createElement("span",{className:"Label"},"Provincia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.provincia=t}}),r.a.createElement("span",{className:"Label"},"Regi\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.region=t}}),r.a.createElement("span",{className:"Label"},"Subregi\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.subregion=t}}),r.a.createElement("span",{className:"Label"},"Equipo espec\xedfico"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.equipoEspecifico=t}}),r.a.createElement("span",{className:"Label"},"Punto venta"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.puntoVenta=t}}),r.a.createElement(he,{getValue:function(t){return e.group=t}}),r.a.createElement("select",{onChange:this.handleTurno},r.a.createElement("option",{value:"TT"},"TT"),r.a.createElement("option",{value:"TM"},"TM")),r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Crear Usuario")))}}]),a}(n.Component),ke=(a(124),a(35)),ye=a.n(ke),Oe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).buscar=function(){var e;n.title&&void 0!==n.title&&(e=n.title.value.toUpperCase());var t=[];n.state.allGroups.map((function(a){return void 0!==e?(a.group=a.group.toUpperCase(),a.group.indexOf(e)>=0&&t.push(a)):t.push(a),!0})),n.setState({searchedUsers:t,actualPage:1})},n.editUser=function(e,t){e.preventDefault(),n.setState({editUser:!0,userSelected:t})},n.deleteUser=function(e,t){e.preventDefault(),n.setState({deleteUser:!0,userSelected:t})},n.addUser=function(e){e.preventDefault(),n.setState({addUser:!0})},n.changePassword=function(e){e.preventDefault(),n.setState({changePassword:!0})},n.logout=function(){sessionStorage.setItem("userData",""),sessionStorage.setItem("token",""),sessionStorage.clear(),n.setState({redirect:!0})},n.getUsersPage=function(e,t){var a=[],n=0;if(null!==t){n=Math.ceil(t.length/25);var r=25*(e-1),o=r+25;for(o>t.length&&(o=t.length);r<o;)a.push(t[r]),r++}return{total:a,cantOfPages:n}},n.createGroup=function(){n.setState({createGroup:!0})},n.state={term:"",encontrado:null,editUser:!1,addUser:!1,deleteUser:!1,userSelected:null,allGroups:null,searched:!1,error:!1,redirect:!1,changePassword:!1,actualPage:1,searchedUsers:[],createGroup:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getGroups,{headers:{Authorization:a}}).then((function(t){e.setState({allGroups:t.data.Data}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.buscar()})).catch((function(t){e.setState({error:!0,redirect:!0}),t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){for(var e=this,t=this.state.searchedUsers,a=this.getUsersPage(this.state.actualPage,t),n=a.total,o=[],s=function(t){if(!(o.length<4))return o.push(r.a.createElement("button",{key:t-1,disabled:!0}," ... ")),"break";o.push(r.a.createElement("button",{key:t,onClick:function(){e.setState({actualPage:t+1})}},t+1))},l=0;l<a.cantOfPages;l++){if("break"===s(l))break}return o.length<a.cantOfPages&&o.push(r.a.createElement("button",{key:o.length,onClick:function(){e.setState({actualPage:a.cantOfPages})}},a.cantOfPages)),this.state.redirect?r.a.createElement(c.a,{to:"/home"}):this.state.editUser?r.a.createElement(c.a,{to:{pathname:"/editGroup",state:{userSelected:this.state.userSelected}}}):this.state.changePassword?r.a.createElement(c.a,{to:"/changePassword"}):this.state.deleteUser?r.a.createElement(c.a,{to:{pathname:"/deleteGroup",state:{userSelected:this.state.userSelected}}}):this.state.createGroup?r.a.createElement(c.a,{to:{pathname:"/createGroup",state:{userSelected:this.state.userSelected}}}):r.a.createElement("div",null,!this.state.allGroups&&r.a.createElement(r.a.Fragment,null,A()),r.a.createElement("div",{className:"tabla_parent"},r.a.createElement("h4",null,"GRUPOS"),r.a.createElement("div",{className:"flex-input-add"},C("GET|groups/:id")&&r.a.createElement("input",{className:"form-control",type:"text",ref:function(t){e.title=t},placeholder:"Buscar grupo",onChange:this.buscar}),r.a.createElement("button",{className:"addItem morph",onClick:function(t){return e.createGroup(t)}},r.a.createElement(ye.a,{className:"svgAddButton",style:{fontSize:33}})),this.state.error&&r.a.createElement("h1",null,"Hubo un error en la b\xfasqueda, int\xe9ntalo m\xe1s tarde")),r.a.createElement("table",{cellSpacing:"0"},null===this.state.allUsers&&r.a.createElement("div",{className:"sk-fading-circle"},r.a.createElement("div",{className:"sk-circle1 sk-circle"}),r.a.createElement("div",{className:"sk-circle2 sk-circle"}),r.a.createElement("div",{className:"sk-circle3 sk-circle"}),r.a.createElement("div",{className:"sk-circle4 sk-circle"}),r.a.createElement("div",{className:"sk-circle5 sk-circle"}),r.a.createElement("div",{className:"sk-circle6 sk-circle"}),r.a.createElement("div",{className:"sk-circle7 sk-circle"}),r.a.createElement("div",{className:"sk-circle8 sk-circle"}),r.a.createElement("div",{className:"sk-circle9 sk-circle"}),r.a.createElement("div",{className:"sk-circle10 sk-circle"}),r.a.createElement("div",{className:"sk-circle11 sk-while (true) { <h1>Hola</h1> }circle"}),r.a.createElement("div",{className:"sk-circle12 sk-circle"})),r.a.createElement("thead",{className:"encabezadoTabla"},r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Editar"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,n&&n.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.group),C("PUT|groups/:id")&&r.a.createElement("td",{className:"celdaBtnHover",onClick:function(a){return e.editUser(a,t)}},r.a.createElement($.a,{style:{fontSize:15}})),!C("PUT|groups/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement($.a,null)),C("DELETE|groups/:id")&&r.a.createElement("td",{className:"celdaBtnHover",onClick:function(a){return e.deleteUser(a,t)}},r.a.createElement(te.a,{style:{fontSize:15}})),!C("DELETE|groups/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement(te.a,null)))})))),r.a.createElement("div",{className:"botones"},this.state.actualPage>1&&r.a.createElement("button",{onClick:function(){e.setState({actualPage:e.state.actualPage-1})}},"\u25c4"),o,this.state.actualPage!==a.cantOfPages&&r.a.createElement("button",{onClick:function(){e.setState({actualPage:e.state.actualPage+1})}},"\u25ba"))))}}]),a}(n.Component),Ce=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).logout=function(){sessionStorage.setItem("userData",""),sessionStorage.setItem("token",""),sessionStorage.clear(),e.setState({redirect:!0})},e.state={allUsers:null,redirect:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(Oe,{allUsers:this.state.allUsers}))}}]),a}(n.Component),Ie=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logout=function(){sessionStorage.setItem("userData",""),sessionStorage.clear(),n.setState({redirect:!0})},n.state={redirect:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=JSON.parse(sessionStorage.getItem("userData"));return r.a.createElement("div",null,r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement(W,null),r.a.createElement("div",{className:"header"},r.a.createElement(F,null)),r.a.createElement("div",{className:"section-content"},r.a.createElement(Ce,{userInfo:e})),r.a.createElement("div",{className:"footer"}))}}]),a}(n.Component),Ae=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.sexo=e.target.value},n.handleChangeStatus=function(e){n.userActive=e.target.value},n.handleChangeTurno=function(e){n.turno=e.target.value},n.modifyUser=function(e){var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={group:n.group},o=n.props.location.state.userSelected.id;f.a.put(S.getGroups+"/"+o,r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),q()("Felicidades!","Has cambiado el nombre del grupo","success"),n.setState({redirect:!0})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n!","No has cambiado nada","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)}))},n.state={userInfo:null,redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token"));if(null===t)return r.a.createElement(c.a,{to:"/"});if(!this.props.location.state)return this.setState({redirect:!0}),y();var a=this.props.location.state.userSelected.id,n={headers:{Authorization:"Bearer ".concat(t)}};f.a.get(S.getGroups+"/"+a,n).then((function(t){e.setState({userInfo:t.data.Data[0]}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error"),e.setState({redirect:!0})):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this;if(this.state.redirect)return r.a.createElement(c.a,{to:"/groups"});var t=this.state.userInfo;if(null!==t){var a=t.group;q()("Ingrese nombre del grupo:",{content:{element:"input",attributes:{defaultValue:a}}}).then((function(t){e.group=t,e.modifyUser()}))}return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)))}}]),a}(n.Component),De=a(42),Ue=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=[];null!==e&&e.map((function(e){return""!==e.value&&("addAll"===e.value?n.state.groups.map((function(e){return t.push(e._id),!0})):t.push(e.value)),!0})),n.setState({groupsToSend:t})},n.state={value:"",groups:null,groupSelect:[],groupsToSend:""},n}return Object(m.a)(a,[{key:"searchDefault",value:function(){var e=this,t=[];if(this.state.groupSelect.length>0&&this.props.defaultValue&&!this.state.groupsToSend){var a=[];return this.props.defaultValue.map((function(e){return a.push(e._id),!0})),a.map((function(a){return e.state.groupSelect.map((function(e){return e.value===a&&t.push(e),!0})),!0})),t}return this.state.groupsToSend?(this.state.groupsToSend.map((function(a){return e.state.groupSelect.map((function(e){return e.value===a&&t.push(e),!0})),!0})),t):{label:"Seleccionar permisos...",value:""}}},{key:"componentDidMount",value:function(){var e=this,t=[];f.a.get(S.permissions).then((function(a){e.setState({groups:a.data.Data}),t.push({value:"addAll",label:"Agregar todos"}),e.state.groups.map((function(e){var a={value:e._id,label:I(e.name)};return t.push(a),!0})),e.setState({groupSelect:t})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse||y(),e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this.state.groupSelect;return this.props.getValue(this.state.groupsToSend),r.a.createElement(fe.a,{isMulti:!0,name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value,value:this.searchDefault()})}}]),a}(n.Component),Pe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.sexo=e.target.value},n.handleChangeStatus=function(e){n.userActive=e.target.value},n.handleChangeTurno=function(e){n.turno=e.target.value},n.state={userInfo:null,redirect:!1},n.modifyUser=n.modifyUser.bind(Object(De.a)(n)),n}return Object(m.a)(a,[{key:"modifyUser",value:function(e){var t=this;e.preventDefault();var a=JSON.parse(sessionStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}},r={role:this.role.value,permissions:this.assign,description:this.description.value},o=this.props.location.state.userSelected.id;f.a.put(S.getRoles+"/"+o,r,n).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),q()("Felicidades!","Has cambiado el nombre del grupo","success"),t.setState({redirect:!0})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar los roles","error")):y(),console.log("Error: ",e)}))}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token"));if(null===t)return r.a.createElement(c.a,{to:"/"});if(!this.props.location.state)return this.setState({redirect:!0}),y();var a=this.props.location.state.userSelected.id,n={headers:{Authorization:"Bearer ".concat(t)}};f.a.get(S.getRoles+"/"+a,n).then((function(t){e.setState({userInfo:t.data.Data[0]}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error"),e.setState({redirect:!0})):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this;if(this.state.redirect)return r.a.createElement(c.a,{to:"/roles"});var t=this.state.userInfo;return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)),null!==t&&r.a.createElement("form",{className:"inputsEditUser addUserPadding",onSubmit:this.modifyUser},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"id",name:"id",ref:function(t){return e.id=t},defaultValue:t.id?t.id:"",disabled:!0}),r.a.createElement("span",{className:"Label"},"Grupo"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"group",ref:function(t){return e.role=t},defaultValue:t.role?t.role:""}),r.a.createElement("span",{className:"Label"},"Descripci\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"description",ref:function(t){return e.description=t},defaultValue:t.description?t.description:""}),r.a.createElement(Ue,{getValue:function(t){return e.assign=t},defaultValue:t.permissionAssign?t.permissionAssign:""}),C("PUT|roles/:id")&&r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Guardar cambios")))}}]),a}(n.Component),je=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(null===JSON.parse(sessionStorage.getItem("token")))return r.a.createElement(c.a,{to:"/"});q()({title:"\xbfEst\xe1s seguro que queres borrar el grupo?",text:"Una vez borrado, no podr\xe1s recuperarlo",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){if(t){var a=JSON.parse(sessionStorage.getItem("token"));if(!e.props.location.state)return e.setState({redirect:!0}),y();var n=e.props.location.state.userSelected.id,r={headers:{Authorization:"Bearer ".concat(a)}};f.a.delete(S.getGroups+"/"+n,r).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),t.data.Success&&(q()("Genial! el grupo se ha eliminado correctamente",{icon:"success"}),e.setState({redirect:!0}))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error"),e.setState({redirect:!0})):y(),console.log("Error: ",t)}))}else q()("OK","El grupo NO se ha eliminado","info"),e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/groups"}):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)))}}]),a}(n.Component),Me=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.sexo=e.target.value},n.handleChangeStatus=function(e){n.userActive=e.target.value},n.handleChangeTurno=function(e){n.turno=e.target.value},n.modifyUser=function(e){var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={group:n.group};f.a.post(S.getGroups+"/new",r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&(q()("Felicidades!","Se ha creado el grupo correctamente","success"),n.setState({redirect:!0}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)}))},n.state={userInfo:null,redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){if(null===JSON.parse(sessionStorage.getItem("token")))return r.a.createElement(c.a,{to:"/"})}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(c.a,{to:"/groups"}):(q()("Ingrese nombre del grupo:",{content:"input"}).then((function(t){e.group=t,e.modifyUser()})),r.a.createElement("div",{className:"header"},r.a.createElement(F,null)))}}]),a}(n.Component),we=(a(125),a(40)),xe=a.n(we),Je=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).buscar=function(){var e;n.title&&void 0!==n.title&&(e=n.title.value.toUpperCase());var t=[];n.state.allGroups.map((function(a){return void 0!==e?(a.role=a.role.toUpperCase(),a.role.indexOf(e)>=0&&t.push(a)):t.push(a),!0})),n.setState({searchedUsers:t,actualPage:1})},n.editUser=function(e,t){e.preventDefault(),n.setState({editUser:!0,userSelected:t})},n.deleteUser=function(e,t){e.preventDefault(),n.setState({deleteUser:!0,userSelected:t})},n.addUser=function(e){e.preventDefault(),n.setState({addUser:!0})},n.changePassword=function(e){e.preventDefault(),n.setState({changePassword:!0})},n.logout=function(){sessionStorage.setItem("userData",""),sessionStorage.setItem("token",""),sessionStorage.clear(),n.setState({redirect:!0})},n.getUsersPage=function(e,t){var a=[],n=0;if(null!==t){n=Math.ceil(t.length/25);var r=25*(e-1),o=r+25;for(o>t.length&&(o=t.length);r<o;)a.push(t[r]),r++}return{total:a,cantOfPages:n}},n.createGroup=function(){n.setState({createGroup:!0})},n.addRole=function(){n.setState({createRole:!0})},n.state={term:"",encontrado:null,editUser:!1,addUser:!1,deleteUser:!1,userSelected:null,allGroups:null,searched:!1,error:!1,redirect:!1,changePassword:!1,actualPage:1,searchedUsers:[],createGroup:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getRoles,{headers:{Authorization:a}}).then((function(t){e.setState({allGroups:t.data.Data}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.buscar()})).catch((function(t){e.setState({error:!0,redirect:!0}),t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){for(var e=this,t=this.state.searchedUsers,a=this.getUsersPage(this.state.actualPage,t),n=a.total,o=[],s=function(t){o.length<4&&o.push(r.a.createElement("button",{className:e.state.actualPage===t+1?"active":"",key:t,onClick:function(){e.setState({actualPage:t+1})}},t+1))},l=this.state.actualPage-1;l<a.cantOfPages;l++)s(l);return this.state.createRole?r.a.createElement(c.a,{to:"/createRole"}):this.state.redirect?r.a.createElement(c.a,{to:"/home"}):this.state.editUser?r.a.createElement(c.a,{to:{pathname:"/editRole",state:{userSelected:this.state.userSelected}}}):this.state.addUser?r.a.createElement(c.a,{to:"/createRole"}):this.state.changePassword?r.a.createElement(c.a,{to:"/changePassword"}):this.state.deleteUser?r.a.createElement(c.a,{to:{pathname:"/deleteRole",state:{userSelected:this.state.userSelected}}}):r.a.createElement("div",null,null===this.state.allGroups&&r.a.createElement(r.a.Fragment,null,A()),r.a.createElement("div",{className:"tabla_parent"},r.a.createElement("h4",null,"ROLES"),r.a.createElement("div",{className:"flex-input-add"},C("GET|roles/:id")&&r.a.createElement("input",{className:"form-control",type:"text",ref:function(t){e.title=t},placeholder:"Buscar rol",onChange:this.buscar}),r.a.createElement("button",{className:"addItem morph",onClick:function(t){return e.addRole(t)}},r.a.createElement(xe.a,{className:"svgAddButton",style:{fontSize:33}})),this.state.error&&r.a.createElement("h1",null,"Hubo un error en la b\xfasqueda, int\xe9ntalo m\xe1s tarde")),r.a.createElement("table",{cellSpacing:"0"},r.a.createElement("thead",{className:"encabezadoTabla"},r.a.createElement("tr",null,r.a.createElement("th",null,"Rol"),r.a.createElement("th",{className:"tableIcons"},"Editar"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,n&&n.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.role),C("PUT|roles/:id")&&r.a.createElement("td",{className:"celdaBtnHover",onClick:function(a){return e.editUser(a,t)}},r.a.createElement($.a,{style:{fontSize:15}})),!C("PUT|roles/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement($.a,null)),C("DELETE|roles/:id")&&r.a.createElement("td",{className:"celdaBtnHover",onClick:function(a){return e.deleteUser(a,t)}},r.a.createElement(te.a,{style:{fontSize:15}})),!C("DELETE|roles/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement(te.a,null)))})))),r.a.createElement("div",{className:"botones"},this.state.actualPage>1&&r.a.createElement("button",{onClick:function(){e.setState({actualPage:e.state.actualPage-1})}},"\u25c4"),o,this.state.actualPage!==a.cantOfPages&&r.a.createElement("button",{onClick:function(){e.setState({actualPage:e.state.actualPage+1})}},"\u25ba"))))}}]),a}(n.Component),Be=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).logout=function(){sessionStorage.setItem("userData",""),sessionStorage.setItem("token",""),sessionStorage.clear(),e.setState({redirect:!0})},e.state={allUsers:null,redirect:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(Je,{allUsers:this.state.allUsers}))}}]),a}(n.Component),Ve=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logout=function(){sessionStorage.setItem("userData",""),sessionStorage.clear(),n.setState({redirect:!0})},n.state={redirect:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=JSON.parse(sessionStorage.getItem("userData"));return r.a.createElement("div",null,r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement(W,null),r.a.createElement("div",{className:"header"},r.a.createElement(F,null)),r.a.createElement("div",{className:"section-content"},r.a.createElement(Be,{userInfo:e})),r.a.createElement("div",{className:"footer"}))}}]),a}(n.Component),Ge=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.sexo=e.target.value},n.handleChangeStatus=function(e){n.userActive=e.target.value},n.handleChangeTurno=function(e){n.turno=e.target.value},n.modifyUser=function(e){e.preventDefault();var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={role:n.role.value,description:n.description.value,permissions:n.permissions};f.a.post(S.getRoles+"/new",r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&(q()("Felicidades!","Se ha creado el role correcamente","success"),n.setState({redirect:!0}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar los roles","error"),n.setState({redirect:!0})):y(),console.log("Error: ",e)}))},n.state={userInfo:null,redirect:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return null===JSON.parse(sessionStorage.getItem("token"))?r.a.createElement(c.a,{to:"/"}):this.state.redirect?r.a.createElement(c.a,{to:"/roles"}):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)),r.a.createElement("form",{className:"inputsEditUser addUserPadding",onSubmit:this.modifyUser},r.a.createElement("span",{className:"Label"},"Rol"),C("POST|roles/:id")&&r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"group",ref:function(t){return e.role=t},required:!0}),r.a.createElement("span",{className:"Label"},"Descripci\xf3n"),C("POST|roles/:id")&&r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"description",ref:function(t){return e.description=t},required:!0}),r.a.createElement(Ue,{getValue:function(t){return e.permissions=t}}),C("POST|roles/:id")&&r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Guardar cambios")))}}]),a}(n.Component),Le=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(null===JSON.parse(sessionStorage.getItem("token")))return r.a.createElement(c.a,{to:"/"});q()({title:"\xbfEst\xe1s seguro que queres borras el rol?",text:"Una vez borrado, no podr\xe1s recuperarlo :(",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){if(t){var a=JSON.parse(sessionStorage.getItem("token"));if(!e.props.location.state)return e.setState({redirect:!0}),y();var n=e.props.location.state.userSelected.id,r={headers:{Authorization:"Bearer ".concat(a)}};f.a.delete(S.getRoles+"/"+n,r).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),t.data.Success&&(q()("Genial! se ha eliminado el rol correctamente",{icon:"success"}),e.setState({redirect:!0}))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema al intentar borrar el rol","error"),e.setState({redirect:!0})):y(),console.log("Error: ",t)}))}else q()("OK! el rol NO se ha eliminado"),e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/roles"}):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)))}}]),a}(n.Component),Te=(a(126),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descargar"),r.a.createElement("th",null,"Eliminar"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre archivo"),r.a.createElement("td",null,"icono download"),r.a.createElement("td",null,"icono delete")),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre archivo"),r.a.createElement("td",null,"icono download"),r.a.createElement("td",null,"icono delete")),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre archivo"),r.a.createElement("td",null,"icono download"),r.a.createElement("td",null,"icono delete")))))}}]),a}(n.Component)),Re=a(25),He=a.n(Re),Fe=(a(127),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedFile:null,loading:!1},e.fileChange=function(t){var a=JSON.parse(sessionStorage.getItem("userData")).email;e.setState({selectedFile:t.target.files[0]}),"text/csv"!==t.target.files[0].type?q()("ATENCI\xd3N","El archivo tiene que ser CSV","info"):(e.setState({loading:!0}),q()({title:"Est\xe1s por actualizar la n\xf3mina de usuarios",text:"Nombre del archivo: ".concat(t.target.files[0].name,", ten\xe9 en cuenta que los cambios son irreversibles."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){if(t){var n=JSON.parse(sessionStorage.getItem("token")),r="Bearer ".concat(n),o=new FormData;o.append("file",e.state.selectedFile),f.a.post(S.sendNomina,o,{headers:{Authorization:r}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),q()("N\xf3mina en proceso de actualizaci\xf3n, cuando finalice recibir\xe1s un mail en ".concat(a),{icon:"success"}),e.setState({loading:!1})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar la n\xf3mina","error"),e.setState({loading:!1})):y(),console.log("Error: ",t)}))}else q()("N\xf3mina NO actualizada!"),e.setState({loading:!1})})))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading&&A(),C("POST|backoffice/nomina")&&r.a.createElement("div",{className:"uploadNomina"},r.a.createElement("div",null,r.a.createElement(He.a,null),r.a.createElement("input",{type:"file",name:"file",onChange:this.fileChange,id:"file"}))))}}]),a}(n.Component)),ze=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),r.a.createElement("div",{className:"section-content"},r.a.createElement(Te,null)),r.a.createElement("div",{className:"section-content"},r.a.createElement(Fe,null)))}}]),a}(n.Component),qe=(a(68),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t="";null!==e&&e.map((function(e){return t+=""===t?e.value:"|".concat(e.value),!0})),n.setState({groupsToSend:t})},n.seleccionado=function(e){var t=n.state.usuariosSeleccionados;t.push(e),n.setState({usuariosSeleccionados:t})},n.quitarUsuario=function(e){var t=n.state.usuariosSeleccionados,a=n.props.idGroup,r=[];if(t.map((function(t){return t.id!==e.id&&r.push(t),!0})),a){var o=JSON.parse(sessionStorage.getItem("token")),s={headers:{Authorization:"Bearer ".concat(o)}};f.a.delete(S.getAllProgramsGroups+"/"+a+"/"+e.idDB,s).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),q()("Genial!","Usuario desasignado","success")})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))}n.setState({usuariosSeleccionados:r})},n.buscar=function(){var e;if(n.searched&&void 0!==n.searched){e=n.searched.value.toLocaleLowerCase();var t=[];n.state.allUsers.map((function(a){var n="".concat(a.name," ").concat(a.lastName);if(void 0!==e)if(a.id.indexOf(e)>=0)t.push(a);else if(n.indexOf(e)>=0)t.push(a);else{for(var r=n.split(" "),o=e.split(" "),s=0,l=0;l<r.length;l++)for(var c=0;c<o.length;c++)r[l].indexOf(o[c])>=0&&s++;s===o.length&&t.push(a)}else t.push(a);return!0}));for(var a=[],r=0;r<5&&r<t.length;r++)a.push(t[r]);n.setState({usuariosReturn:a})}},n.state={value:"",groups:null,groupSelect:[],groupsToSend:"",loading:!1,actualPage:1,usuariosReturn:[],allUsers:null,usuariosSeleccionados:[]},n}return Object(m.a)(a,[{key:"searchDefault",value:function(){var e=this.state.allUsers,t=this.props.defaultValue,a=[];t&&(e.map((function(e){for(var n=0;n<t.length;n++)e.idDB===t[n].idDB&&a.push(e);return!0})),this.setState({usuariosSeleccionados:a}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getUsers+"?specificdata=true",{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token));for(var a=[],n=t.data.Data,r=0;r<n.length;r++)a.push(n[r]);e.setState({allUsers:a,loading:!1}),e.searchDefault()})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({error:!0,redirect:!0,loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}),1e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.usuariosReturn,n=t.usuariosSeleccionados,o=[];return n.map((function(e){return o.push(e.idDB),!0})),this.props.getValue(o),r.a.createElement("div",null,this.state.loading&&A(),r.a.createElement("div",null,n&&n.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("p",null,"".concat(t.id," - ").concat(t.name," ").concat(t.lastName)),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.quitarUsuario(t)}},"x"))}))),r.a.createElement("input",{type:"text",placeholder:"Buscar",ref:function(t){e.searched=t},onChange:this.buscar}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Apellido"))),r.a.createElement("tbody",null,a&&a.map((function(t,a){return r.a.createElement("tr",{key:a,onClick:function(a){a.preventDefault(),e.seleccionado(t)}},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.lastName))})))))}}]),a}(n.Component)),Ye=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).addUser=function(t){t.preventDefault();var a=JSON.parse(sessionStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}},r={name:e.name.value,description:e.description.value,usersAssign:e.usersAssign};f.a.post(S.getAllProgramsGroups+"/new",r,n).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),q()("Grupo de programas creado!","Ya se encuentra registrado","success").then((function(e){e&&window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"table-parent-edit"},r.a.createElement("form",{onSubmit:this.addUser,className:"inputsEditUser addUserPadding"},r.a.createElement("span",{className:"Label"},"Nombre"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.name=t}}),r.a.createElement("span",{className:"Label"},"Descripci\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.description=t},required:!0}),r.a.createElement("span",{className:"Label"},"Usuarios asignados"),r.a.createElement(qe,{getValue:function(t){return e.usersAssign=t}}),r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Crear Grupo de Programas")),r.a.createElement("button",{onClick:function(){e.setState({createGroupProgram:!1})}},"Cancelar")))}}]),a}(n.Component),Qe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addUser=function(e){e.preventDefault();var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={name:n.name.value,description:n.description.value,usersAssign:n.usersAssign};n.setState({loading:!0});var o=n.props.edit.id;f.a.put(S.getAllProgramsGroups+"/"+o,r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1}),q()("Grupo de programas editado!","Ya se encuentra registrado","success").then((function(e){e&&window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(n.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))},n.state={specific:[],loading:!1,editProgramGroup:!0},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.edit.id,a=JSON.parse(sessionStorage.getItem("token")),n="Bearer ".concat(a);this.setState({loading:!0}),f.a.get(S.getAllProgramsGroups+"/"+t,{headers:{Authorization:n}}).then((function(t){t.data.Data[0].assignedUsers.length>0?e.setState({loading:!1,specific:t.data.Data[0].assignedUsers}):e.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(e.setState({error:!0,redirect:!0,loading:!1}),sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.props.edit,a=this.state,n=a.specific;return a.editProgramGroup||window.location.reload(window.location.href),r.a.createElement("div",null,this.state.loading&&A(),C("GET|programs/groups/:id")&&r.a.createElement("div",{className:"table-parent-edit"},r.a.createElement("form",{onSubmit:this.addUser,className:"inputsEditUser addUserPadding"},r.a.createElement("span",{className:"Label"},"Nombre"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.name=t},defaultValue:t.name?t.name:""}),r.a.createElement("span",{className:"Label"},"Descripci\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.description=t},defaultValue:t.description?t.description:""}),r.a.createElement("span",{className:"Label"},"Usuarios asignados"),r.a.createElement(qe,{getValue:function(t){return e.usersAssign=t},defaultValue:n||"",idGroup:t.id}),r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Editar Grupo de Programas")),r.a.createElement("button",{onClick:function(){e.setState({editProgramGroup:!1})}},"Cancelar")))}}]),a}(n.Component),We=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).buscar=function(){n.setState({buscando:!0})},n.getUsersPage=function(e,t){var a=[],n=0;if(null!==t){n=Math.ceil(t.length/25);var r=25*(e-1),o=r+25;for(o>t.length&&(o=t.length);r<o;)a.push(t[r]),r++}return{total:a,cantOfPages:n}},n.editGroup=function(e,t){e.preventDefault(),n.setState({editProgramGroup:!0,userSelected:t})},n.createGroupProgram=function(e){e.preventDefault(),n.setState({crearGrupoProgramas:!0})},n.deleteGroup=function(e,t){e.preventDefault(),q()({title:"Est\xe1s seguro?",text:"Una vez borrado el grupo, no podr\xe1s recuperarlo!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){if(e){var a=JSON.parse(sessionStorage.getItem("token")),r="Bearer ".concat(a);f.a.delete(S.getAllProgramsGroups+"/"+t.id,{headers:{Authorization:r}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({grupoBorrado:!0}),q()("El grupo ha sido eliminado!",{icon:"success"}).then((function(e){e&&window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))}else q()("No has cambiado nada!")}))},n.state={programs:null,searchedGroups:null,actualPage:1,grupoBorrado:!1,crearGrupoProgramas:!1,editProgramGroup:!1,addGroup:!1,buscando:!1,loading:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getAllProgramsGroups,{headers:{Authorization:a}}).then((function(t){e.setState({searchedGroups:t.data.Data,loading:!1}),sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token))})).catch((function(t){sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({searchedGroups:[],loading:!1}),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state.searchedGroups,a=this.getUsersPage(this.state.actualPage,t).total;return this.state.grupoBorrado?r.a.createElement(c.a,{to:"/programas"}):this.state.crearGrupoProgramas?r.a.createElement(c.a,{to:"/crearGrupoProgramas"}):r.a.createElement("div",null,this.state.loading&&A(),r.a.createElement("div",null,!this.state.addGroup&&!this.state.editProgramGroup&&r.a.createElement("div",null,r.a.createElement("div",{className:"flex-input-add"},r.a.createElement("input",{className:"form-control",type:"text",ref:function(t){e.title=t},placeholder:"Buscar grupo de programa",onChange:this.buscar}),C("POST|programs/groups/new")&&r.a.createElement("button",{className:"addItem morph",onClick:function(){e.setState({addGroup:!0})}},r.a.createElement(ye.a,{className:"svgAddButton",style:{fontSize:33}}))),r.a.createElement("table",{cellSpacing:"0"},r.a.createElement("thead",{className:"encabezadoTabla"},r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Editar"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,a&&a.filter((function(t){return""===e.title||null===e.title||!!e.title&&t.name.toUpperCase().indexOf(e.title.value.toUpperCase())>=0})).map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),C("PUT|programs/groups/:id")&&r.a.createElement("td",{className:"celdaBtnHover",onClick:function(a){return e.editGroup(a,t)}},r.a.createElement($.a,{style:{fontSize:15}})),!C("PUT|programs/groups/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement($.a,null)),C("DELETE|programs/groups/:id")&&r.a.createElement("td",{className:"celdaBtnHover",onClick:function(a){return e.deleteGroup(a,t)}},r.a.createElement(te.a,{style:{fontSize:15}})),!C("DELETE|programs/groups/:id")&&r.a.createElement("td",{disabled:!0},r.a.createElement(te.a,null)))}))))),this.state.addGroup&&r.a.createElement("div",null,r.a.createElement(Ye,null),r.a.createElement("button",{onClick:function(){e.setState({addGroup:!1})}},"Cancelar"))),this.state.editProgramGroup&&r.a.createElement("div",null,r.a.createElement(Qe,{edit:this.state.userSelected})))}}]),a}(n.Component),Ze=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=[];null!==e&&e.map((function(e){return t.push(e.value),!0})),n.setState({groupsToSend:t})},n.state={value:"",groups:null,groupSelect:[],groupsToSend:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.defaultValue,t=[];e.map((function(e){var a={value:e.id,label:"".concat(e.id," - ").concat(e.name)};return t.push(a),!0})),this.setState({groupSelect:t})}},{key:"render",value:function(){var e=this.state.groupSelect;return this.props.getValue(this.state.groupsToSend),r.a.createElement(fe.a,{isMulti:!0,name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value})}}]),a}(n.Component),Ke=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=[];null!==e&&e.map((function(e){return t.push(e.value),!0})),n.props.getValue(t)},n.state={value:"",groups:null,groupSelect:[],groupsToSend:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[],a=JSON.parse(sessionStorage.getItem("token")),n="Bearer ".concat(a);f.a.get(S.getAllProgramsGroups,{headers:{Authorization:n}}).then((function(a){sessionStorage.setItem("token",JSON.stringify(a.data.loggedUser.token)),a.data.Data.map((function(e){var a={value:e.id,label:"".concat(e.id," - ").concat(e.name)};return t.push(a),!0})),e.props.end()})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)})),this.setState({groupSelect:t})}},{key:"render",value:function(){var e=this.state.groupSelect;return r.a.createElement(fe.a,{isMulti:!0,name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value})}}]),a}(n.Component),Xe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.props.getValue(e),n.setState({modificado:e})},n.searchDefault=function(){var e={label:"Selecciona...",value:""};return n.state.especifico&&!n.state.modificado?n.state.especifico.map((function(t){return t.value===n.props.defaultValue&&(e=t),!0})):n.state.modificado&&(e=n.state.modificado),e},n.state={value:"",groups:null,groupSelect:[],groupsToSend:"",especifico:null,modificado:null},n}return Object(m.a)(a,[{key:"componentWillUnmount",value:function(){window.location.href=document.location.href}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getAllPrograms,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token));var a=[];t.data.Data.map((function(e){var t={label:e.name,value:e.id};return a.push(t),!0})),e.setState({especifico:a})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this.state.especifico;return r.a.createElement(fe.a,{name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value,value:this.searchDefault()})}}]),a}(n.Component),_e=a(36),$e=a.n(_e),et=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).buscar=function(){n.setState({buscando:!0})},n.desasignarGrupo=function(e){var t=n.state.specificGroup[0].id,a=JSON.parse(sessionStorage.getItem("token")),r="Bearer ".concat(a);n.setState({loading:!0}),f.a.delete(S.getAllPrograms+"/"+t+"/"+e,{headers:{Authorization:r}}).then((function(e){e.data.Success?q()("Genial!","Grupo borrado correctamente!","success"):q()("Atenci\xf3n!","No se pudo borrar!","info"),n.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),n.setState({loading:!1}),q()("Error!","Hubo un problema al borrar el grupo","error")):y(),console.log("Error: ",e)}))},n.editProgram=function(e,t){var a=t.id,o=JSON.parse(sessionStorage.getItem("token")),s="Bearer ".concat(o);n.setState({loading:!0}),f.a.get(S.getAllPrograms+"/"+a,{headers:{Authorization:s}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token));var t,a=e.data.Data;n.setState({loading:!1});var o=r.a.createElement(Ke,{end:function(){if(n.state.specificGroup&&n.state.specificGroup.length>0){var e=n.state.specificGroup[0].programParent;t=r.a.createElement(Xe,{defaultValue:e,getValue:function(e){n.setState({programEditReq:{parentProgram:e.value}})}}),n.setState({componenteSelectUsuarios:t})}},getValue:function(e){n.setState({programEditReq:{groupAssign:e}})}});n.setState({specificGroup:a,componenteSelectGrupos:o,componenteSelectUsuarios:t})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),n.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)})),e.preventDefault(),n.setState({editProgram:!0,userSelected:t})},n.deleteProgram=function(e,t){e.preventDefault();var a=JSON.parse(sessionStorage.getItem("token")),r={headers:{Authorization:"Bearer ".concat(a)}};q()({title:"Est\xe1s seguro?",text:"Una vez borrado el programa, no podr\xe1s recuperarlo!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?(n.setState({loading:!0}),f.a.delete(S.getAllPrograms+"/"+t.id,r).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1}),e.data.Success&&(q()("Genial! el programa se ha eliminado correctamente",{icon:"success"}),n.setState({redireccion:!0}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),n.setState({loading:!1}),q()("Error!","Hubo un problema al borrar el programa","error")):y(),console.log("Error: ",e)}))):q()("Ok, no has borrado nada")}))},n.addUser=function(e){e.preventDefault(),n.setState({addUser:!0})},n.changePassword=function(e){e.preventDefault(),n.setState({changePassword:!0})},n.getUsersPage=function(e,t){var a=[],n=0;if(null!==t){n=Math.ceil(t.length/25);var r=25*(e-1),o=r+25;for(o>t.length&&(o=t.length);r<o;)a.push(t[r]),r++}return{total:a,cantOfPages:n}},n.createProgram=function(e){e.preventDefault();var t={name:n.name.value,parentProgram:n.state.programEditReq.parentProgram,section:n.turno,syncGroups:n.state.programEditReq.groupAssign,description:n.description.value},a={};for(var r in t)t[r]&&(a[r]=t[r]);var o=n.state.specificGroup[0].id||!1,s=JSON.parse(sessionStorage.getItem("token")),l="Bearer ".concat(s);n.setState({loading:!0,redireccion:!0}),f.a.put(S.getAllPrograms+"/"+o,a,{headers:{Authorization:l}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(n.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)})),n.setState({createProgram:!0})},n.newProgram=function(e){e.preventDefault();var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);n.setState({loading:!0}),f.a.get(S.getAllProgramsGroups,{headers:{Authorization:a}}).then((function(e){var t=e.data.Data;n.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({gruposDeProgramas:t,okProgramas:!0})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(n.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)})),n.setState({createProgram:!0})},n.handleTurno=function(e){e.preventDefault(),n.turno=e.target.value},n.crearPrograma=function(e){e.preventDefault();var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={name:n.name.value,parentProgram:n.parentProgram?n.parentProgram.value:"",section:n.turno,syncGroups:n.usersAssign.length>0?n.usersAssign:[],description:n.description.value};n.setState({loading:!0}),f.a.post(S.newPrograms,r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({redirect:!0,loading:!1,redireccion:!0}),q()("Programa creado!","Ya se encuentra registrado","success")})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(n.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))},n.filtrarMonitoreoPerfilamiento=function(){"M"===n.state.selected?n.setState({selected:"P"}):n.setState({selected:"M"}),console.log("El estado cambiado: ",n.state.selected)},n.state={term:"",encontrado:null,editProgram:!1,addUser:!1,deleteProgram:!1,userSelected:null,allPrograms:null,searched:!1,error:!1,redirect:!1,changePassword:!1,actualPage:1,searchedUsers:[],createProgram:!1,ok:!1,okProgramas:!1,buscando:!1,gruposDeProgramas:null,specificGroup:null,componenteSelectGrupos:null,componenteSelectUsuarios:null,programaPadre:null,programEditReq:{},loading:!1,redireccion:!1,selected:"M"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);this.setState({loading:!0}),f.a.get(S.getAllPrograms,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({allPrograms:t.data.Data,programsFiltered:t.data.Data,ok:!0,loading:!1})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(e.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.allPrograms,o=a.programsFiltered,s=a.userSelected,l=a.selected,u=this.getUsersPage(this.state.actualPage,n),m=[],d=[],p=[];n&&function(){for(var e=o.filter((function(e){return console.log("Selected: ",l),t.title?""===t.title.value||null===t.title.value?e.section===l||"notSpecify"===e.section:e.name.toUpperCase().indexOf(t.title.value.toUpperCase())>=0:e.section===l||"notSpecify"===e.section})),a=function(a){if(p.indexOf(e[a].id)>=0||""!==e[a].programParent)return"continue";var n=[],o=r.a.createElement("tr",{key:a},r.a.createElement("td",null,e[a].name),C("PUT|programs/:id")&&r.a.createElement("td",{onClick:function(n){return t.editProgram(n,e[a])}},r.a.createElement($.a,{style:{fontSize:15}})),C("DELETE|programs/:id")&&r.a.createElement("td",{onClick:function(n){return t.deleteProgram(n,e[a])}},r.a.createElement(te.a,{style:{fontSize:15}})));n.push(o);for(var s=function(o){if(e[o].programParent===e[a].id){var s=r.a.createElement("tr",{key:a+1+o},r.a.createElement("td",null,r.a.createElement($e.a,{className:"ArrowRightIcon"})," ",e[o].name),r.a.createElement("td",{onClick:function(a){return t.editProgram(a,e[o])}},r.a.createElement($.a,{style:{fontSize:15}})),r.a.createElement("td",{onClick:function(a){return t.deleteProgram(a,e[o])}},r.a.createElement(te.a,{style:{fontSize:15}})));n.push(s),p.push(e[o].id);for(var l=function(s){if(e[o].id===e[s].programParent){var l=r.a.createElement("tr",{key:a+3+s},r.a.createElement("td",null,r.a.createElement($e.a,{className:"marginArrow ArrowRightIcon"})," ",e[s].name),r.a.createElement("td",{onClick:function(a){return t.editProgram(a,e[s])}},r.a.createElement($.a,{style:{fontSize:15}})),r.a.createElement("td",{onClick:function(a){return t.deleteProgram(a,e[s])}},r.a.createElement(te.a,{style:{fontSize:15}})));n.push(l),p.push(e[s].id)}},c=0;c<e.length;c++)l(c)}},l=0;l<e.length;l++)s(l);d.push(n),p.push(e[a].id)},n=0;n<e.length;n++)a(n)}();for(var g=function(e){if(!(m.length<4))return m.push(r.a.createElement("button",{key:e-1,disabled:!0}," ... ")),"break";m.push(r.a.createElement("button",{key:e,onClick:function(){t.setState({actualPage:e+1})}},e+1))},f=0;f<u.cantOfPages;f++){if("break"===g(f))break}return m.length<u.cantOfPages&&m.push(r.a.createElement("button",{key:m.length,onClick:function(){t.setState({actualPage:u.cantOfPages})}},u.cantOfPages)),this.state.redireccion&&window.location.reload(),this.state.changePassword?r.a.createElement(c.a,{to:"/changePassword"}):this.state.deleteProgram?r.a.createElement(c.a,{to:{pathname:"/borrarPrograma",state:{userSelected:this.state.userSelected}}}):r.a.createElement("div",null,this.state.loading&&A(),r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement(F,null),r.a.createElement("div",{className:"BtnInProgramas"}," ",r.a.createElement("button",null,r.a.createElement("a",{href:"#programasSection"},"Programas"))," ",r.a.createElement("hr",null),r.a.createElement("button",null,r.a.createElement("a",{href:"#gruposProgSection"},"Grupos"))),!this.state.allPrograms&&r.a.createElement(r.a.Fragment,null,A()),r.a.createElement("div",{className:"section-content doble-section"},!this.state.createProgram&&r.a.createElement("div",{id:"programasSection",className:"table-users "},r.a.createElement("h4",{className:"marginBotton15"},"Programas"),!this.state.editProgram&&r.a.createElement("div",null,r.a.createElement("label",{className:"switch"},r.a.createElement("input",(e={type:"checkbox"},Object(i.a)(e,"type","checkbox"),Object(i.a)(e,"name","filtro"),Object(i.a)(e,"onChange",this.filtrarMonitoreoPerfilamiento),e)),r.a.createElement("span",{className:"slider round"})),r.a.createElement("h2",null,"Filtrado por: ","M"===l?"Monitoreo":"Perfilamiento"),r.a.createElement("div",{className:"flex-input-add"},C("GET|groups/:id")&&r.a.createElement("input",{className:"form-control",type:"text",ref:function(e){t.title=e},placeholder:"Buscar programa",onChange:this.buscar}),C("POST|programs/new")&&r.a.createElement("button",{className:"addItem morph",onClick:function(e){return t.newProgram(e)}},r.a.createElement(ye.a,{className:"svgAddButton",style:{fontSize:33}})),this.state.error&&r.a.createElement("h1",null,"Hubo un error en la b\xfasqueda, int\xe9ntalo m\xe1s tarde")),r.a.createElement("table",{cellSpacing:"0"},null===this.state.allUsers&&r.a.createElement("div",{className:"sk-fading-circle"},r.a.createElement("div",{className:"sk-circle1 sk-circle"}),r.a.createElement("div",{className:"sk-circle2 sk-circle"}),r.a.createElement("div",{className:"sk-circle3 sk-circle"}),r.a.createElement("div",{className:"sk-circle4 sk-circle"}),r.a.createElement("div",{className:"sk-circle5 sk-circle"}),r.a.createElement("div",{className:"sk-circle6 sk-circle"}),r.a.createElement("div",{className:"sk-circle7 sk-circle"}),r.a.createElement("div",{className:"sk-circle8 sk-circle"}),r.a.createElement("div",{className:"sk-circle9 sk-circle"}),r.a.createElement("div",{className:"sk-circle10 sk-circle"}),r.a.createElement("div",{className:"sk-circle11 sk-while (true) { <h1>Hola</h1> }circle"}),r.a.createElement("div",{className:"sk-circle12 sk-circle"})),r.a.createElement("thead",{className:"encabezadoTabla"},r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Editar"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,d.length>0&&d.map((function(e){return e.map((function(e){return e})),e})))),r.a.createElement("div",{className:"botones"},this.state.actualPage>1&&r.a.createElement("button",{onClick:function(){t.setState({actualPage:t.state.actualPage-1})}},"\u25c4"),m,this.state.actualPage!==u.cantOfPages&&r.a.createElement("button",{onClick:function(){t.setState({actualPage:t.state.actualPage+1})}},"\u25ba"))),this.state.editProgram&&this.state.ok&&r.a.createElement("div",null,r.a.createElement("div",{className:"table-parent-edit"},r.a.createElement("form",{onSubmit:this.createProgram,className:"inputsEditUser addUserPadding"},r.a.createElement("span",{className:"Label"},"Nombre"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(e){return t.name=e},defaultValue:s.name?s.name:""}),r.a.createElement("span",{className:"Label"},"Parent program"),null!==this.state.componenteSelectUsuarios&&this.state.componenteSelectUsuarios,r.a.createElement("span",{className:"Label"},"Section"),r.a.createElement("select",{onChange:this.handleTurno},r.a.createElement("option",{value:"M",selected:"M"===s.section},"Monitoreo"),r.a.createElement("option",{value:"P",selected:"P"===s.section},"Perfilamiento")),r.a.createElement("div",{className:"etiquetas"},this.state.specificGroup&&null!==this.state.componenteSelectGrupos&&this.state.specificGroup[0].assignedGroups.map((function(e){return r.a.createElement("div",{className:"etiqueta"},r.a.createElement("p",null,e.name),r.a.createElement("button",{onClick:function(a){a.preventDefault(),t.desasignarGrupo(e.id)}},"x"))}))),null!==this.state.componenteSelectGrupos&&this.state.componenteSelectGrupos,r.a.createElement("span",{className:"Label"},"Description"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(e){return t.description=e},defaultValue:s.description?s.description:""}),r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Editar Programas"))),r.a.createElement("button",{onClick:function(){t.setState({editProgram:!1})}},"Cancelar"))),this.state.createProgram&&this.state.okProgramas&&r.a.createElement("div",{className:"tabla_parent"},r.a.createElement("h4",{className:"marginBotton15"},"Crear programa"),r.a.createElement("div",{className:"table-parent-edit"},r.a.createElement("form",{onSubmit:this.crearPrograma,className:"inputsEditUser addUserPadding"},r.a.createElement("span",{className:"Label"},"Nombre"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(e){return t.name=e}}),r.a.createElement("span",{className:"Label"},"Parent program"),r.a.createElement(Xe,{getValue:function(e){return t.parentProgram=e},defaultValue:this.state.allPrograms?this.state.allPrograms:""}),r.a.createElement("span",{className:"Label"},"Section"),r.a.createElement("select",{onChange:this.handleTurno},r.a.createElement("option",{value:"M"},"Monitoreo"),r.a.createElement("option",{value:"P"},"Perfilamiento")),r.a.createElement(Ze,{getValue:function(e){return t.usersAssign=e},defaultValue:this.state.gruposDeProgramas?this.state.gruposDeProgramas:""}),r.a.createElement("span",{className:"Label"},"Description"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(e){return t.description=e},required:!0}),r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Crear Programas")),r.a.createElement("button",{onClick:function(){t.setState({createProgram:!1})}},"X")))))}}]),a}(n.Component),tt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t="";null!==e&&e.map((function(e){return t+=""===t?e.value:"|".concat(e.value),!0})),n.setState({groupsToSend:t})},n.state={value:"",groups:null,groupSelect:[],groupsToSend:""},n}return Object(m.a)(a,[{key:"searchDefault",value:function(){var e=this,t=[];return this.state.groupSelect.length>0&&this.props.defaultValue&&""===this.state.groupsToSend?(this.props.defaultValue.map((function(a){return e.state.groupSelect.map((function(e){return e.value===a.id&&t.push(e),!0})),!0})),t):this.state.groupsToSend?(this.state.groupsToSend.split("|").map((function(a){return e.state.groupSelect.map((function(e){return e.value===a&&t.push(e),!0})),!0})),t):{label:"Seleccionar grupo...",value:""}}},{key:"componentDidMount",value:function(){var e=this,t=[];f.a.get(S.frontUtilities).then((function(a){e.setState({groups:a.data.Data.groups}),e.state.groups.map((function(e){var a={value:e.id,label:e.group};return t.push(a),!0})),e.setState({groupSelect:t})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this.state.groupSelect;return this.props.getValue(this.state.groupsToSend),r.a.createElement(fe.a,{isMulti:!0,name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value,value:this.searchDefault()})}}]),a}(n.Component),at=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState({rolesToSend:e.value})},n.state={value:"",groups:null,groupSelect:[],rolesToSend:n.props.defaultValue||""},n}return Object(m.a)(a,[{key:"searchDefault",value:function(){var e=this;return this.state.groupSelect.length>0&&this.props.defaultValue&&""===this.state.rolesToSend?this.state.groupSelect.filter((function(t){return t.value===e.props.defaultValue})):this.state.rolesToSend?this.state.groupSelect.filter((function(t){return t.value===e.state.rolesToSend})):{label:"Seleccionar rol...",value:""}}},{key:"componentDidMount",value:function(){var e=this,t=[];f.a.get(S.frontUtilities).then((function(a){e.setState({groups:a.data.Data.roles}),e.state.groups.map((function(e){var a={value:e.id,label:e.role};return t.push(a),!0})),e.setState({groupSelect:t})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this.state.groupSelect;return this.props.getValue(this.state.rolesToSend),r.a.createElement(fe.a,{name:"colors",options:e,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:this.handleInputChange,inputValue:this.state.value,value:this.searchDefault()})}}]),a}(n.Component),nt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addUser=function(e){if(e.preventDefault(),n.validator.allValid()){var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={id:n.id.value,dni:n.dni.value,name:n.name.value,lastName:n.lastName.value,role:n.role,legajo:n.legajo.value,email:n.email.value,phone:n.phone.value,sexo:n.sexo,fechaIngresoLinea:n.fechaIngresoLinea.value,fechaBaja:n.fechaBaja.value,motivoBaja:n.motivoBaja.value,propiedad:n.propiedad.value,canal:n.canal.value,negocio:n.negocio.value,razonSocial:n.razonSocial.value,edificioLaboral:n.edificioLaboral.value,gerencia1:n.gerencia1.value,nameG1:n.nameG1.value,gerencia2:n.gerencia2.value,nameG2:n.nameG2.value,jefeCoordinador:n.jefeCoordinador.value,responsable:n.responsable.value,supervisor:n.supervisor.value,lider:n.lider.value,provincia:n.provincia.value,region:n.region.value,subregion:n.subregion.value,equipoEspecifico:n.equipoEspecifico.value,puntoVenta:n.puntoVenta.value,group:n.group,turno:n.turno};f.a.post(S.createUser,r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({redirect:!0}),q()("Usuario creado!","Ya se encuentra registrado","success")})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}else q()("Error!","Par\xe1metros inv\xe1lidos","error"),n.validator.showMessages(),n.forceUpdate()},n.handleChange=function(e){n.sexo=e.target.value},n.handleTurno=function(e){n.turno=e.target.value},n.state={groups:null,roles:null,redirect:!1},n.validator=new E.a({messages:{required:"Complet\xe1 este campo"}}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(S.frontUtilities).then((function(t){e.setState({groups:t.data.Data.groups,roles:t.data.Data.roles})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el usuario","error")):y(),console.log("Error: ",e)}))}},{key:"render",value:function(){var e=this;return null===JSON.parse(sessionStorage.getItem("token"))?r.a.createElement(c.a,{to:"/"}):this.state.redirect?r.a.createElement(c.a,{to:"/users"}):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null)),r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement("form",{onSubmit:this.addUser,className:"inputsEditUser addUserPadding"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"id",name:"id",ref:function(t){return e.id=t},required:!0}),r.a.createElement("div",{className:"error"},this.validator.message("title",this.id,"required")),r.a.createElement("span",{className:"Label"},"Dni"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"dni",ref:function(t){return e.dni=t},required:!0}),r.a.createElement("span",{className:"Label"},"Nombre"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"name",ref:function(t){return e.name=t},required:!0}),r.a.createElement("span",{className:"Label"},"Apellido"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",name:"lastName",ref:function(t){return e.lastName=t},required:!0}),r.a.createElement(at,{getValue:function(t){return e.role=t}}),r.a.createElement("span",{className:"Label"},"Legajo"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.legajo=t}}),r.a.createElement("span",{className:"Label"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",placeholder:"",ref:function(t){return e.email=t},required:!0}),r.a.createElement("span",{className:"Label"},"Telefono"),r.a.createElement("input",{className:"form-control",type:"tel",placeholder:"",ref:function(t){return e.phone=t}}),r.a.createElement("div",null,r.a.createElement("span",{className:"Label"},"Sexo"),r.a.createElement("select",{onChange:this.handleChange},r.a.createElement("option",{value:"MASCULINO"},"Hombre"),r.a.createElement("option",{value:"FEMENINO"},"Mujer"),r.a.createElement("option",{value:"OTRO"},"Otro"))),r.a.createElement("span",{className:"Label"},"Fecha Ingreso"),r.a.createElement("input",{className:"form-control",type:"date",placeholder:"",ref:function(t){return e.fechaIngresoLinea=t}}),r.a.createElement("span",{className:"Label"},"Fecha de baja"),r.a.createElement("input",{className:"form-control",type:"date",placeholder:"",ref:function(t){return e.fechaBaja=t}}),r.a.createElement("span",{className:"Label"},"Motivo de baja"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.motivoBaja=t}}),r.a.createElement("span",{className:"Label"},"Propiedad"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.propiedad=t}}),r.a.createElement("span",{className:"Label"},"Canal"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.canal=t}}),r.a.createElement("span",{className:"Label"},"Negocio"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.negocio=t}}),r.a.createElement("span",{className:"Label"},"Raz\xf3n social"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.razonSocial=t}}),r.a.createElement("span",{className:"Label"},"Edificio laboral"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.edificioLaboral=t}}),r.a.createElement("span",{className:"Label"},"Gerencia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.gerencia1=t}}),r.a.createElement("span",{className:"Label"},"Gerente"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.nameG1=t}}),r.a.createElement("span",{className:"Label"},"Nombre Gerencia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.gerencia2=t}}),r.a.createElement("span",{className:"Label"},"Coordinador"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.nameG2=t}}),r.a.createElement("span",{className:"Label"},"Jefe Coordinador"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.jefeCoordinador=t}}),r.a.createElement("span",{className:"Label"},"Responsable"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.responsable=t}}),r.a.createElement("span",{className:"Label"},"Supervisor"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.supervisor=t}}),r.a.createElement("span",{className:"Label"},"L\xedder"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.lider=t}}),r.a.createElement("span",{className:"Label"},"Provincia"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.provincia=t}}),r.a.createElement("span",{className:"Label"},"Regi\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.region=t}}),r.a.createElement("span",{className:"Label"},"Subregi\xf3n"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.subregion=t}}),r.a.createElement("span",{className:"Label"},"Equipo espec\xedfico"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.equipoEspecifico=t}}),r.a.createElement("span",{className:"Label"},"Punto venta"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"",ref:function(t){return e.puntoVenta=t}}),r.a.createElement(tt,{getValue:function(t){return e.group=t}}),r.a.createElement("select",{onChange:this.handleTurno},r.a.createElement("option",{value:"TT"},"TT"),r.a.createElement("option",{value:"TM"},"TM")),r.a.createElement("button",{className:"btn btn-block btn-info ripple-effect confirmar",type:"submit",name:"Submit",alt:"sign in"},"Crear Usuario")))}}]),a}(n.Component),rt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.sexo=e.target.value},n.handleChangeStatus=function(e){n.userActive=e.target.value},n.handleChangeTurno=function(e){n.turno=e.target.value},n.modifyUser=function(e){var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}},r={group:n.group};f.a.post(S.getGroups+"/new",r,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&(q()("Felicidades!","Se ha creado el grupo correctamente","success"),n.setState({redirect:!0}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)}))},n.state={userInfo:null,redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){if(null===JSON.parse(sessionStorage.getItem("token")))return r.a.createElement(c.a,{to:"/"})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/groups"}):r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(nt,null))}}]),a}(n.Component),ot=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Edite su programa aqui")}}]),a}(n.Component),st=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Borrar Programa")}}]),a}(n.Component),lt=a(12),ct=a.n(lt),it=(a(69),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).cerrarModal=function(){document.getElementById("modal-casero").style.display="none",window.location.reload(window.location.href)},n.buscar=function(){var e=n.state.allPrograms,t=n.searched.value.toLowerCase(),a=e.filter((function(e){return e.name.toLowerCase().includes(t)}));n.setState({programsFiltered:a})},n.enviarPrograma=function(e){var t=e.id,a=n.props.idFile,r=JSON.parse(sessionStorage.getItem("token")),o={headers:{Authorization:"Bearer ".concat(r)}},s={program:t};f.a.put(S.reasignProgram+"/"+a,s,o).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),q()("Felicidades!","Has reasignado el programa","success").then((function(){n.cerrarModal()}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n!","No has cambiado nada","info")):y(),console.log("Error: ",e)}))},n.state={loading:!1,allPrograms:null,programsFiltered:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);this.setState({loading:!0}),f.a.get(S.getAllPrograms,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({allPrograms:t.data.Data,programsFiltered:t.data.Data,loading:!1})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(e.setState({loading:!1}),sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.programsFiltered,n=t.loading,o=t.allPrograms,s=[],l=[];return o&&function(){for(var t=a.filter((function(t){return!e.title||(""===e.title.value||null===e.title.value||t.name.toUpperCase().indexOf(e.title.value.toUpperCase())>=0)})),n=function(a){if(s.indexOf(t[a].id)>=0||""!==t[a].programParent)return"continue";var n=[],o=r.a.createElement("tr",{key:a},r.a.createElement("td",null,t[a].name),C("PUT|programs/:id")&&r.a.createElement("td",{onClick:function(n){return e.editProgram(n,t[a])}},r.a.createElement($.a,{style:{fontSize:15}})),C("DELETE|programs/:id")&&r.a.createElement("td",{onClick:function(n){return e.deleteProgram(n,t[a])}},r.a.createElement(te.a,{style:{fontSize:15}})));n.push(o);for(var c=function(o){if(t[o].programParent===t[a].id){var l=r.a.createElement("tr",{key:a+1+o},r.a.createElement("td",null,r.a.createElement($e.a,{className:"ArrowRightIcon"})," ",t[o].name),r.a.createElement("td",{onClick:function(a){return e.editProgram(a,t[o])}},r.a.createElement($.a,{style:{fontSize:15}})),r.a.createElement("td",{onClick:function(a){return e.deleteProgram(a,t[o])}},r.a.createElement(te.a,{style:{fontSize:15}})));n.push(l),s.push(t[o].id);for(var c=function(l){if(t[o].id===t[l].programParent){var c=r.a.createElement("tr",{key:a+3+l},r.a.createElement("td",null,r.a.createElement($e.a,{className:"marginArrow ArrowRightIcon"})," ",t[l].name),r.a.createElement("td",{onClick:function(a){return e.editProgram(a,t[l])}},r.a.createElement($.a,{style:{fontSize:15}})),r.a.createElement("td",{onClick:function(a){return e.deleteProgram(a,t[l])}},r.a.createElement(te.a,{style:{fontSize:15}})));n.push(c),s.push(t[l].id)}},i=0;i<t.length;i++)c(i)}},i=0;i<t.length;i++)c(i);l.push(n),s.push(t[a].id)},o=0;o<t.length;o++)n(o)}(),r.a.createElement("div",{className:"modal",id:"modal-casero"},n&&A(),r.a.createElement("div",{className:"hijo"},r.a.createElement("div",{className:"boton-cerrar"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.cerrarModal()}},"x")),r.a.createElement("input",{className:"form-control form-control-modal",type:"text",placeholder:"Buscar",ref:function(t){return e.searched=t},onChange:this.buscar}),r.a.createElement("table",{cellSpacing:"0"},null===this.state.allUsers&&r.a.createElement("div",{className:"sk-fading-circle"},r.a.createElement("div",{className:"sk-circle1 sk-circle"}),r.a.createElement("div",{className:"sk-circle2 sk-circle"}),r.a.createElement("div",{className:"sk-circle3 sk-circle"}),r.a.createElement("div",{className:"sk-circle4 sk-circle"}),r.a.createElement("div",{className:"sk-circle5 sk-circle"}),r.a.createElement("div",{className:"sk-circle6 sk-circle"}),r.a.createElement("div",{className:"sk-circle7 sk-circle"}),r.a.createElement("div",{className:"sk-circle8 sk-circle"}),r.a.createElement("div",{className:"sk-circle9 sk-circle"}),r.a.createElement("div",{className:"sk-circle10 sk-circle"}),r.a.createElement("div",{className:"sk-circle11 sk-while (true) { <h1>Hola</h1> }circle"}),r.a.createElement("div",{className:"sk-circle12 sk-circle"})),r.a.createElement("thead",{className:"encabezadoTabla"},r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Editar"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,l.length>0&&l.map((function(e){return e.map((function(e){return e})),e}))))))}}]),a}(n.Component)),ut=a(47),mt=(a(129),function(e){var t=e.done,a=r.a.useState({}),n=Object(ut.a)(a,2),o=n[0],s=n[1];return setTimeout((function(){var e={opacity:1,width:"".concat(t,"%")};s(e)}),200),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-done",style:o}))}),dt=function(){return r.a.createElement("div",{className:"loading-bar"},r.a.createElement("div",{className:"contenedor-barra"},r.a.createElement("h1",{className:"mensaje"},"Cargando..."),r.a.createElement(mt,{done:"100"})))},pt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).fileChange=function(e){n.setState({selectedFile:e.target.files[0]}),q()({title:"Est\xe1s por actualizar la n\xf3mina de usuarios",text:"Nombre del archivo: ".concat(e.target.files[0].name,", ten\xe9 en cuenta que los cambios son irreversibles."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){if(e){var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t),r=new FormData;r.append("file",n.state.selectedFile),f.a.post(S.reasignProgram,r,{headers:{Authorization:a}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loaded:!0}),setTimeout((function(){n.setState({loaded:!1}),window.location.reload(window.location.href)}),9e4)})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar la n\xf3mina","error")):y(),console.log("Error: ",e)}))}else q()("N\xf3mina NO actualizada!")}))},n.cerrarModal=function(){document.getElementById("modal-casero").style.display="none",window.location.reload(window.location.href)},n.state={selectedFile:null,loaded:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loaded,n=t.selectedFile;return r.a.createElement("div",{className:"modal",id:"modal-casero"},r.a.createElement("div",{className:"hijo"},r.a.createElement("div",{className:"boton-cerrar"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.cerrarModal()}},"x")),a&&null!==n&&r.a.createElement(dt,null),r.a.createElement("div",{className:"input-file"},r.a.createElement("label",{htmlFor:"file"},"Subir n\xf3mina (S\xf3lo archivos CSV)"),r.a.createElement("input",{type:"file",name:"file",onChange:this.fileChange}))))}}]),a}(n.Component),gt=(a(130),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).dynamicSort=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(a,n){return(a[e]<n[e]?-1:a[e]>n[e]?1:0)*t}},n.ascDesc=function(){var e=n.state.data.sort(n.dynamicSort("date"));n.setState({data:e})},n.buscar=function(){var e=n.state.data,t=n.searched.value.toLowerCase(),a=e.filter((function(e){return e.name.toLowerCase().includes(t)}));n.setState({dataFiltered:a})},n.asignarPrograma=function(e){n.setState({id:e})},n.agregarPerfilamiento=function(){n.setState({agregarPerfilamiento:!0})},n.descargar=function(e){n.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getAllFiles+"/"+e+"/download",{headers:{Authorization:a}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1});var t=e.data.Data;window.open(S.download+"/"+t.idTemp,"_blank").focus()})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),n.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))},n.borrar=function(e){q()({title:"Est\xe1s seguro? \ud83e\udd14",text:"El archivo que se elimina no podr\xe1s recuperarlo...",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){if(t){var a=JSON.parse(sessionStorage.getItem("token"));n.setState({loading:!0});var r={headers:{Authorization:"Bearer ".concat(a)}};f.a.delete(S.getAllFiles+"/"+e,r).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1}),e.data.Success&&q()("Ok! El archivo ha sido eliminado \ud83d\ude0e",{icon:"success"}).then((function(){window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al intentar borrar el rol","error"),n.setState({loading:!1,redirect:!0})):y(),console.log("Error: ",e)}))}else q()("El archivo se encuentra a salvo \ud83d\ude0e")}))},n.cargarCuartil=function(e){n.setState({cuartiles:!0,cuartilSeleccionado:e})},n.cargarPerfilamientos=function(e){n.setState({perfilamientos:!0,cuartilSeleccionado:e})},n.state={data:null,dataFiltered:null,id:null,agregarPerfilamiento:!1,cuartiles:!1,cuartilSeleccionado:null,perfilamientos:!1,loading:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getAllFiles,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token));var a=t.data.Data;e.setState({data:a,dataFiltered:a,loading:!1})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.dataFiltered,o=t.id,s=t.agregarPerfilamiento,l=t.cuartiles,i=t.cuartilSeleccionado,u=t.perfilamientos,m=t.loading;return l?r.a.createElement(c.a,{to:{pathname:"/perfilamiento/cuartiles",cuartilSeleccionado:i.id}}):u?r.a.createElement(c.a,{to:{pathname:"/perfilamiento/perfilamientos",cuartilSeleccionado:i.id}}):r.a.createElement("div",{className:"tabla_parent"},r.a.createElement("h4",null,"PERFILAMIENTO"),r.a.createElement("div",{className:"flex-input-add"},m&&A(),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Buscar",ref:function(t){return e.searched=t},onChange:this.buscar}),C("POST|analytics/file/:fileId/perfilamiento")&&r.a.createElement("button",{className:"boton-agregar",onClick:function(t){t.preventDefault(),e.agregarPerfilamiento()}},r.a.createElement(He.a,null))),a&&o&&r.a.createElement(it,{idFile:o}),s&&r.a.createElement(pt,null),a&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(t){t.preventDefault(),e.ascDesc()}},"Fecha"),r.a.createElement("th",null,"Archivo"),r.a.createElement("th",null,"Programa"),r.a.createElement("th",{className:"tableIconsPerfilamiento"},"Acciones"))),r.a.createElement("tbody",null,n.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,ct()(t.date).format("DD-MM-YYYY")),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.program?t.program.name:"Programa no asignado"),r.a.createElement("td",{className:"tableIconstableIconsPerfilamiento"},r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.cargarCuartil(t)}},"Cuartiles"),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.cargarPerfilamientos(t)}},"Perfilamientos"),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.asignarPrograma(t.id)}},"Asignar programa"),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.borrar(t.id)}},"Borrar"),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.descargar(t.id)}},"Descargar")))})))))}}]),a}(n.Component)),ft=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement(F,null),r.a.createElement("div",{className:"section-content"},r.a.createElement(gt,null)),r.a.createElement("div",{className:"footer"}))}}]),a}(n.Component),ht=a(19),Et=(a(131),document.createElement("div"));Et.className="placeholder",Et.className="grupoPerfilamiento";var vt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onDrop=function(e,t){e.preventDefault();var a=e.dataTransfer.getData("data");if(a&&t){var r=(a=a.split("|"))[0],o=a[1];n.assignCuartil(r,o,t)}},n.assignCuartil=function(e,t,a){if(e&&a&&t){var r=n.state,o=r.cuartiles,s=r.assignedUsers,l=r.grupos;o.map((function(r){if(r.name===e){var o,c=r.users[t],i=[],u=!1;if(l.map((function(n){return n.name===a&&(o=n.applyAllUsers,n.cuartiles.map((function(a){return a.name===e&&a.level===t&&(u=!0),!0}))),!0})),!u){for(var m=0;m<c.length;m++){var d=c[m];s.includes(d)&&!o||i.push(d)}var p=[];l.map((function(n){var r=n;return r.name===a&&(r.users=r.users.concat(i),r.cuartiles=[].concat(Object(ht.a)(r.cuartiles),[{name:e,level:t,usersToAssign:i}])),p.push(r),!0})),o?n.setState({grupos:p}):n.setState({grupos:p,assignedUsers:s.concat(i)})}}return!0}))}},n.onDragStart=function(e){e.dataTransfer.setData("data",e.target.id)},n.eliminarGrupo=function(e){for(var t=n.state,a=t.grupos,r=t.assignedUsers,o=[],s=0;s<a.length;s++){a[s].id!==e?o.push(a[s]):a[s].users.map((function(e){return r.splice(r.indexOf(e),1),!0}))}n.setState({grupos:o,assignedUsers:r})},n.eliminarCuartil=function(e,t,a){for(var r=n.state.grupos,o=[],s=0;s<r.length;s++){var l=r[s],c=l;if(l.name===e){for(var i=l.cuartiles,u=[],m=0;m<i.length;m++){var d=i[m];d.name===t&&d.level===a||u.push(d)}c.cuartiles=u}o.push(c)}n.setState({grupos:o}),n.reasignUsers()},n.agregarGrupo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.state.grupos,a={id:parseInt(Date.now()*Math.random()),name:"Nuevo grupo ".concat(t.length+1),applyAllUsers:!1,cluster:"Convergente",users:[],cuartiles:[]};for(var r in a)e[r]&&(a[r]=e[r]);n.setState({grupos:[].concat(Object(ht.a)(t),[a])})},n.changeSelect=function(e){var t=n.state.grupos,a=[];t.map((function(t){var r=t;return t.id===e&&(r.cluster=n.select.value),a.push(r),!0})),n.setState({grupos:a})},n.changeName=function(e){var t=document.getElementById(e).value,a=n.state.grupos,r=[];a.map((function(a){var n=a;return a.id===e&&(n.name=t),r.push(n),!0})),n.setState({grupos:r})},n.updateAssign=function(e){for(var t=n.state.grupos,a=0;a<t.length;a++){var r=t[a];r.id===e&&(r.applyAllUsers=n.assignAllUsers.checked)}n.setState({grupos:t}),n.reasignUsers()},n.cuartiles=function(e){n.setState({redirectCuartiles:!0})},n.reasignUsers=function(){for(var e=n.state,t=e.grupos,a=e.cuartiles,r={assignedUsers:[],grupos:[]},o=function(e){var n=t[e],o={id:n.id,name:n.name,applyAllUsers:n.applyAllUsers,cluster:n.cluster,users:[],cuartiles:[]};n.cuartiles.map((function(e){var t=[];a.map((function(a){return a.name===e.name&&(t=a.users[e.level]),!0}));var s={name:e.name,level:e.level,usersToAssign:[]};return t.map((function(e){return r.assignedUsers.includes(e)||n.applyAllUsers?n.applyAllUsers&&(s.usersToAssign.push(e),o.users.includes(e)||o.users.push(e)):(r.assignedUsers.push(e),s.usersToAssign.push(e),o.users.push(e)),!0})),o.cuartiles.push(s),!0})),r.grupos.push(o)},s=0;s<t.length;s++)o(s);n.setState({grupos:r.grupos,assignedUsers:r.assignedUsers})},n.dragStartG=function(e){n.drag_el=e.currentTarget,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",n.drag_el)},n.dragOverG=function(e){if(e.preventDefault(),n.drag_el){var t=e.target;n.drag_el.style.display="none",n.over=t,"grupos"===t.parentNode.className&&t.parentNode.insertBefore(Et,t)}},n.dragEndG=function(){if(n.drag_el){n.drag_el.style.display="block";try{n.drag_el.parentNode.removeChild(Et);var e=n.state.grupos,t=Number(n.drag_el.id),a=Number(n.over.id);t<a&&a--,e.splice(a,0,e.splice(t,1)[0]),n.setState({grupos:e}),n.reasignUsers(),n.drag_el=null}catch(r){n.drag_el=null,console.log("No se puede pegar un grupo fuera del componente")}}},n.enviarModificacion=function(e){e.preventDefault();for(var t=n.state,a=t.grupos,r=t.id,o=[],s=function(e){var t=a[e],n={name:t.name.trim(),assignAllUsers:t.applyAllUsers,cluster:t.cluster,cuartilAssign:[]};if(t.cuartiles.map((function(e){var t=parseInt(e.level[1]);return n.cuartilAssign.push({cuartil:e.name.trim(),Q:t}),!0})),o.find((function(e){return e.name===n.name})))return q()("Error","No pueden existir dos grupos con el mismo nombre","error"),{v:void 0};o.push(n)},l=0;l<a.length;l++){var c=s(l);if("object"===typeof c)return c.v}q()("\xbfEsta seguro que desea modificar el perfilamiento?: ").then((function(){var e=JSON.parse(sessionStorage.getItem("token")),t={headers:{Authorization:"Bearer ".concat(e)}},a=o;f.a.post(S.getAllFiles+"/"+r+"/perfilamiento",a,t).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success?q()("Felicidades!","Perfilamiento modificado!","success").then((function(){n.setState({redirect:!0})})):q()("Error!","Hubo un error al modificar el perfilamiento!","error").then((function(){n.setState({redirect:!0})}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No has cambiado nada","info")):y(),console.log("Error: ",e)}))}))},n.state={id:"",allUsers:[],assignedUsers:[],cuartiles:[],grupos:[],redirect:!1,redirectCuartiles:!1,loading:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.cuartilSeleccionado;if(t){var a=t,n=JSON.parse(sessionStorage.getItem("token")),r="Bearer ".concat(n);this.setState({loading:!0}),f.a.get(S.getAllFiles+"/"+a+"/cuartiles?getUsers=true",{headers:{Authorization:r}}).then((function(t){n=t.data.loggedUser.token,r="Bearer ".concat(n);var o=t.data.Data,s=o.usuariosTotal,l=o.cuartiles;f.a.get(S.getAllFiles+"/"+a+"/perfilamiento",{headers:{Authorization:r}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token));var n=t.data.Data;if(e.setState({allUsers:s,cuartiles:l,id:a,loading:!1}),n){for(var r=function(t){var a=n[t],r=[];a.cuartilAssign.map((function(e){return r.push({name:e.cuartil,level:"Q".concat(e.Q),usersToAssign:[]}),!0})),e.agregarGrupo({id:parseInt(Date.now()*Math.random()),name:a.name,applyAllUsers:a.AssignAllUsers,cluster:a.cluster,cuartiles:r})},o=0;o<n.length;o++)r(o);e.reasignUsers()}}))}))}else this.setState({redirect:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.cuartiles,n=t.grupos,o=t.allUsers,s=t.assignedUsers,l=t.redirect,i=t.id,u=t.redirectCuartiles,m=t.loading;return l?r.a.createElement(c.a,{to:"/perfilamiento"}):u?r.a.createElement(c.a,{to:{pathname:"/perfilamiento/cuartiles",cuartilSeleccionado:i}}):r.a.createElement("div",null,m&&A(),r.a.createElement(F,null),r.a.createElement("div",{className:"section-content"},r.a.createElement("div",{className:"headerResultados"},a.length>0&&r.a.createElement("p",null,"Usuarios sin asignar: ",o.length-s.length," - ",Math.ceil(100-s.length/o.length*100),"%"),r.a.createElement("span",null,a.length>0&&r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.agregarGrupo()}},"Agregar grupo"),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.cuartiles(i)}},"Cuartiles"),n.length>0&&r.a.createElement("button",{onClick:this.enviarModificacion},"Guardar cambios"))),r.a.createElement("div",{className:"grupos"},n&&n.map((function(t,a){return r.a.createElement("div",{className:"grupoPerfilamiento",id:a,key:a,draggable:!0,onDragStart:e.dragStartG,onDragOver:e.dragOverG,onDragEnd:e.dragEndG},r.a.createElement("p",null,"Usuarios asignados: ",t.users.length," - ",Math.ceil(t.users.length/o.length*100),"%"),r.a.createElement("div",{className:"acciones"},r.a.createElement("input",{className:"form-control",type:"text",value:t.name,onChange:function(a){return e.changeName(t.id)},id:t.id}),r.a.createElement("label",null,"Aplicar al 100% de los usuarios.",r.a.createElement("input",{type:"checkbox",id:"aplicarall",onChange:function(){e.updateAssign(t.id)},ref:function(t){return e.assignAllUsers=t}})),r.a.createElement("select",{ref:function(t){return e.select=t},onChange:function(a){a.preventDefault(),e.changeSelect(t.id)},defaultValue:t.cluster},r.a.createElement("option",{value:"Convergente"},"Convergente"),r.a.createElement("option",{value:"Mantenimiento"},"Mantenimiento"),r.a.createElement("option",{value:"Benchmark"},"Benchmark"),r.a.createElement("option",{value:"Comportamental"},"Comportamental"),r.a.createElement("option",{value:"Sustentable"},"Sustentable"),r.a.createElement("option",{value:"Desarrollo"},"Desarrollo")),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarGrupo(t.id)}},"Eliminar")),r.a.createElement("div",{className:"cuartilesAsignados",onDrop:function(a){return e.onDrop(a,t.name)},onDragOver:function(e){return e.preventDefault()}},t.cuartiles&&t.cuartiles.map((function(a,n){var o="";switch(a.level){case"Q1":o="green";break;case"Q2":o="yellow";break;case"Q3":o="orange";break;case"Q4":o="red";break;default:o="gray"}return r.a.createElement("span",{className:o,key:n},r.a.createElement("p",null,"".concat(a.name," - ").concat(a.level)),r.a.createElement("button",{onClick:function(n){n.preventDefault(),e.eliminarCuartil(t.name,a.name,a.level)}},"x"))}))))}))),r.a.createElement("div",{className:"cuartiles"},a&&a.map((function(t,a){return r.a.createElement("div",{key:a,className:"cuartil"},r.a.createElement("h6",null,t.name),r.a.createElement("div",{className:"buttonsContain"},r.a.createElement("button",{id:"".concat(t.name,"|Q1"),className:"green",draggable:!0,onDragStart:e.onDragStart},"Q1 (",t.users.Q1.length,")"),r.a.createElement("button",{id:"".concat(t.name,"|Q2"),className:"yellow",draggable:!0,onDragStart:e.onDragStart},"Q2 (",t.users.Q2.length,")"),r.a.createElement("button",{id:"".concat(t.name,"|Q3"),className:"orange",draggable:!0,onDragStart:e.onDragStart},"Q3 (",t.users.Q3.length,")"),r.a.createElement("button",{id:"".concat(t.name,"|Q4"),className:"red",draggable:!0,onDragStart:e.onDragStart},"Q4 (",t.users.Q4.length,")")))})))))}}]),a}(n.Component),St=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).buscar=function(){var e=n.state.nombreColumnas,t=n.searched.value.toLowerCase(),a=e.filter((function(e){return e.columnName.toLowerCase().includes(t)}));n.setState({dataFiltered:a})},n.seleccionarFila=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.state.result,o={QName:e.columnName,Qorder:t,Q1:{VMin:e.VMin},Q4:{VMax:e.VMax}};a.VMax&&a.VMin&&(a.VMax<e.VMax&&a.VMax>a.VMin&&(o.Q3={VMax:a.VMax}),a.VMin>e.VMin&&a.VMin<a.VMax&&o.Q3&&(o.Q1.VMax=a.VMin),o.Q3&&o.Q1.VMax&&(o.Q2={VMax:(o.Q3.VMax-o.Q1.VMax)/2}));for(var s=-1,l=0;l<r.length;l++)if(r[l].QName===e.columnName){s=l;break}-1===s?n.setState({result:[].concat(Object(ht.a)(r),[o])}):(r.splice(s,1),n.setState({result:r}))},n.handleInputChange=function(e){var t=e.target;n.setState(Object(i.a)({},t,t))},n.enviar=function(e){e.preventDefault();var t=n.state,a=t.id,r=t.result,o=JSON.parse(sessionStorage.getItem("token")),s={headers:{Authorization:"Bearer ".concat(o)}},l=r;f.a.post(S.reasignProgram+"/"+a+"/cuartiles",l,s).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success?q()("Felicidades!","Cuartiles modificados!","success").then((function(){window.location.reload(window.location.href)})):q()("Error!","Hubo un error al modificar cuartiles!","error")})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No has cambiado nada","info")):y(),console.log("Error: ",e)}))},n.perfilamientos=function(){n.setState({redirectPerfilamientos:!0})},n.state={nombreColumnas:null,result:[],dataFiltered:null,redirect:!1,id:null,redirectPerfilamientos:!1,loading:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.cuartilSeleccionado;if(void 0!==t){var a=t;this.setState({id:a,loading:!0});var n=JSON.parse(sessionStorage.getItem("token")),r="Bearer ".concat(n);f.a.get(S.reasignProgram+"/"+a+"/columns",{headers:{Authorization:r}}).then((function(t){var n=t.data.Data;e.setState({nombreColumnas:n,dataFiltered:n});var r=t.data.loggedUser.token;f.a.get(S.reasignProgram+"/"+a+"/cuartiles",{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token));for(var a=[],n=t.data.Data.cuartiles,r=0;r<n.length;r++){var o=n[r],s={QName:o.name,Qorder:o.order,Q1:{VMin:o.Q1.VMin,VMax:o.Q1.VMax},Q2:{VMax:o.Q2.VMax},Q3:{VMax:o.Q3.VMax},Q4:{VMax:o.Q4.VMax}};a.push(s)}e.setState({result:a,loading:!1})}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))}else this.setState({redirect:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.nombreColumnas,n=t.dataFiltered,o=t.redirect,s=t.result,l=t.id,i=t.redirectPerfilamientos,u=t.loading;return o?r.a.createElement(c.a,{to:"/perfilamiento"}):i?r.a.createElement(c.a,{to:{pathname:"/perfilamiento/perfilamientos",cuartilSeleccionado:l}}):r.a.createElement("div",null,u&&A(),r.a.createElement(F,null),r.a.createElement("div",{className:"section-content"},r.a.createElement("button",{onClick:this.enviar},"Guardar cambios"),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.perfilamientos()}},"Perfilamientos"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Buscar",ref:function(t){return e.searched=t},onChange:this.buscar}),a&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Rango [MIN-MAX]"),r.a.createElement("th",null,"Orden"),r.a.createElement("th",null,"Objetivo VMin"),r.a.createElement("th",null,"Objetivo VMax"),r.a.createElement("th",null,"Seleccionar"))),r.a.createElement("tbody",null,n.map((function(t,a){var n="DESC",o={};if(0!==t.VMax){var l="";return s.map((function(e){return e.QName===t.columnName&&(n=e.Qorder,l=e),!0})),r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.columnName),r.a.createElement("td",null,"[".concat(t.VMin," - ").concat(t.VMax,"]")),r.a.createElement("td",null,r.a.createElement("select",{id:a,onChange:function(e){e.preventDefault();var t=document.getElementById(a);n=t.value},disabled:""!==l},r.a.createElement("option",{value:"DESC"},"DESC"),r.a.createElement("option",{value:"ASC",selected:l.Qorder&&"ASC"===l.Qorder},"ASC"))),r.a.createElement("td",null,r.a.createElement("input",{className:"form-control",id:"VMin"+a,type:"text",placeholder:"VMin",onChange:function(e){e.preventDefault();var t=document.getElementById("VMin"+a);o.VMin=parseFloat(t.value)},defaultValue:""!==l?l.Q1.VMax:"",disabled:""!==l})),r.a.createElement("td",null,l.Q3&&r.a.createElement("input",{className:"form-control",id:"VMax"+a,type:"text",placeholder:"VMax",onChange:function(e){e.preventDefault();var t=document.getElementById("VMax"+a);o.VMax=parseFloat(t.value)},defaultValue:""!==l?l.Q3.VMax:"",disabled:""!==l}),void 0===l.Q3&&r.a.createElement("input",{className:"form-control",id:"VMax"+a,type:"text",placeholder:"VMax",onChange:function(e){e.preventDefault();var t=document.getElementById("VMax"+a);o.VMax=parseFloat(t.value)},disabled:""!==l})),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:""!==l,onChange:function(){document.getElementById(a).disabled?(document.getElementById("VMin"+a).disabled=!1,document.getElementById("VMax"+a).disabled=!1,document.getElementById(a).disabled=!1):(document.getElementById("VMin"+a).disabled=!0,document.getElementById("VMax"+a).disabled=!0,document.getElementById(a).disabled=!0),e.seleccionarFila(t,n,o)}})))}return!0}))))),r.a.createElement("div",{className:"footer"}))}}]),a}(n.Component),bt=a(9),Nt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:null,dataFiltered:null,orderedData:null,loading:!1,itemsToShow:6,expanded:!1,arrayToSend:[]},e.dynamicSort=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(a,n){return(a[e]<n[e]?-1:a[e]>n[e]?1:0)*t}},e.ascDesc=function(t){var a=e.state.data.sort(e.dynamicSort(t));e.setState({orderedData:a})},e.showMore=function(){e.state.itemsToShow>=6?e.setState({itemsToShow:e.state.itemsToShow+10,expanded:!0}):e.setState({itemsToShow:6,expanded:!1})},e.filtrarTexto=function(){var t=e.state.data,a=document.getElementById("searched").value.toLowerCase(),n=[];t.map((function(e){return e.name.toLowerCase().includes(a)&&n.push(e),!0})),e.setState({dataFiltered:n})},e.agregar=function(t){e.setState((function(e){return{arrayToSend:[].concat(Object(ht.a)(e.arrayToSend),[t])}}))},e.eliminar=function(t){var a=e.state.arrayToSend,n=a.indexOf(t);n>-1&&a.splice(n,1),e.setState({arrayToSend:a})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getAllFiles,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({loading:!1,data:t.data.Data,dataFiltered:t.data.Data})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.dataFiltered,o=t.arrayToSend;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",id:"searched",onChange:this.filtrarTexto}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Programa"))),r.a.createElement("tbody",null,n.slice(0,this.state.itemsToShow).map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,!o.includes(t.id)&&r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.agregar(t.id)}},"A\xf1adir"),o.includes(t.id)&&r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminar(t.id)}},"Eliminar")),r.a.createElement("td",null,t.name),r.a.createElement("td",null,ct()(t.date).format("DD/MM/YYYY")),r.a.createElement("td",null,t.program?t.program.name:"-"))})))),r.a.createElement("button",{onClick:this.showMore},"Ver mas"),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.props.getData(o)}},"Siguiente")))}}]),a}(n.Component),kt=a(20),yt=a.n(kt),Ot=a(28),Ct=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],perfilamientos:[],loading:!1},e.aniadir=function(t,a){e.setState((function(e){return{perfilamientos:[].concat(Object(ht.a)(e.perfilamientos),[{fileId:t,name:a}])}}))},e.eliminar=function(t,a){var n=e.state.perfilamientos;if(n.length>1){var r=n.findIndex((function(e){return e.fileId===t&&e.name===a}));r&&n.splice(r,1)}else 1===n.length&&(n=[]);e.setState({perfilamientos:n})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Ot.a)(yt.a.mark((function e(){var t,a,n,r,o,s,l;return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.files,a=JSON.parse(sessionStorage.getItem("token")),r="Bearer ".concat(n=a),o=[],this.setState({loading:!0}),s=0;case 7:if(!(s<t.length)){e.next=24;break}return e.prev=8,e.next=11,f.a.get(S.getAllFiles+"/"+t[s]+"/perfilamiento",{headers:{Authorization:r}});case 11:l=e.sent,n=l.data.loggedUser.token,r="Bearer ".concat(n),l.data.Data&&o.push({id:t[s],perfilamientos:l.data.Data}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),e.t0.response.data.Success||401!==e.t0.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.t0.response.data.loggedUser.token)),this.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e.t0);case 21:s++,e.next=7;break;case 24:sessionStorage.setItem("token",JSON.stringify(n)),this.setState({data:o,loading:!1});case 26:case"end":return e.stop()}}),e,this,[[8,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.loading,o=t.perfilamientos;return r.a.createElement(r.a.Fragment,null,n&&A(),a&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Cluster"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(t){return t.perfilamientos.map((function(a,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,a.name),r.a.createElement("td",null,t.id),r.a.createElement("td",null,!o.find((function(e){return e.fileId===t.id&&e.name===a.name}))&&r.a.createElement("button",{disabled:a.partitura,onClick:function(n){n.preventDefault(),e.aniadir(t.id,a.name)}},"Agregar"),o.find((function(e){return e.fileId===t.id&&e.name===a.name}))&&r.a.createElement("button",{disabled:a.partitura,onClick:function(n){n.preventDefault(),e.eliminar(t.id,a.name)}},"Eliminar")))}))})))),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.props.getData(o)}},"Siguiente"))}}]),a}(n.Component),It=(a(133),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,AllPartituresModel:null,partitureModelSelected:null},e.agregarPaso=function(t){for(var a=e.state.partitureModelSelected,n=0;n<a.length;n++){var r=a[n];if(r.id===t){var o={id:new Date*Math.random(),name:"Nuevo paso "+(r.steps.length+1),requiredMonitorings:0};r.steps.push(o)}}e.setState({partitureModelSelected:a})},e.eliminarPaso=function(t,a){for(var n=e.state.partitureModelSelected,r=0;r<n.length;r++){var o=n[r];if(o.id===t){var s=o.steps.findIndex((function(e){return e.id===a}));s&&o.steps.length>1?o.steps.splice(s,1):1===o.steps.length&&(o.steps=[])}}e.setState({partitureModelSelected:n})},e.eliminarInstancia=function(t){var a=e.state.partitureModelSelected,n=a.findIndex((function(e){return e.id===t}));n&&a.length>1?a.splice(n,1):1===a.length&&(a=[]),e.setState({partitureModelSelected:a})},e.agregarInstancia=function(){var t=e.state.partitureModelSelected,a={id:new Date*Math.random(),name:"Nuevo nombre "+(t.length+1),expirationDate:"",steps:[]};e.setState((function(e){return{partitureModelSelected:[].concat(Object(ht.a)(e.partitureModelSelected),[a])}}))},e.cambiarNombreInstancia=function(t,a){for(var n=e.state.partitureModelSelected,r=a.target.value,o=0;o<n.length;o++){var s=n[o];s.id===t&&(s.name=r)}e.setState({partitureModelSelected:n})},e.cambiarNombrePaso=function(t,a,n){for(var r=e.state.partitureModelSelected,o=n.target.value,s=0;s<r.length;s++){var l=r[s];if(l.id===t)for(var c=0;c<l.steps.length;c++){var i=l.steps[c];i.id===a&&(i.name=o)}}e.setState({partitureModelSelected:r})},e.modificarRequiredMonitorings=function(t,a,n){for(var r=e.state.partitureModelSelected,o=n.target.value,s=0;s<r.length;s++){var l=r[s];if(l.id===t)for(var c=0;c<l.steps.length;c++){var i=l.steps[c];i.id===a&&(i.requiredMonitorings=parseInt(o))}}e.setState({partitureModelSelected:r})},e.modificarVencimiento=function(t,a){for(var n=ct()(a.target.value).format("MM/DD/YYYY"),r=e.state.partitureModelSelected,o=0;o<r.length;o++){var s=r[o];s.id===t&&(s.expirationDate=n)}e.setState({partitureModelSelected:r})},e.seleccionar=function(t){var a,n=t.target.value,r=e.state.AllPartituresModel.find((function(e){return e.id===n})),o=[],s=Object(bt.a)(r.instances);try{for(s.s();!(a=s.n()).done;){var l,c=a.value,i={id:new Date*Math.random(),name:c.name,expirationDate:"",steps:[]},u=Object(bt.a)(c.steps);try{for(u.s();!(l=u.n()).done;){var m=l.value,d={id:new Date*Math.random(),name:m.name,requiredMonitorings:m.requiredMonitorings};i.steps.push(d)}}catch(p){u.e(p)}finally{u.f()}o.push(i)}}catch(p){s.e(p)}finally{s.f()}e.setState({partitureModelSelected:o})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Ot.a)(yt.a.mark((function e(){var t,a,n;return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t),e.prev=4,e.next=7,f.a.get(S.getAllPartituresModel,{headers:{Authorization:a}});case 7:n=e.sent,sessionStorage.setItem("token",JSON.stringify(n.data.loggedUser.token)),this.setState({AllPartituresModel:n.data.Data,loading:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0.response.data.Success||401!==e.t0.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.t0.response.data.loggedUser.token)),this.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e.t0);case 16:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.AllPartituresModel,o=t.partitureModelSelected;return r.a.createElement(r.a.Fragment,null,a&&A(),n&&r.a.createElement("select",{value:this.state.value,onChange:this.seleccionar},r.a.createElement("option",{value:"-"},"Selecciona..."),n.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),o&&r.a.createElement("div",{className:"partituresModels"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.agregarInstancia()}},"Agregar instancia"),r.a.createElement("div",{className:"AllInstances"},o.map((function(t){return r.a.createElement("div",{className:"instance",key:t.id},r.a.createElement("div",{className:"mainButtons"},r.a.createElement("input",{type:"text",value:t.name,onChange:function(a){e.cambiarNombreInstancia(t.id,a)}}),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.agregarPaso(t.id)}},"Agregar paso"),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarInstancia(t.id)}},"Eliminar instancia"),r.a.createElement("input",{type:"date",format:"mm/dd/AAAA",onChange:function(a){e.modificarVencimiento(t.id,a)}})),r.a.createElement("div",{className:"AllSteps"},t.steps.map((function(a){return r.a.createElement("div",{className:"step",key:a.id},r.a.createElement("input",{type:"text",defaultValue:a.name,onChange:function(n){e.cambiarNombrePaso(t.id,a.id,n)}}),r.a.createElement("input",{type:"number",value:a.requiredMonitorings,onChange:function(n){e.modificarRequiredMonitorings(t.id,a.id,n)}}),r.a.createElement("button",{onClick:function(n){n.preventDefault(),e.eliminarPaso(t.id,a.id)}},"Eliminar paso"))}))))})))),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.props.getData(o)}},"Enviar"))}}]),a}(n.Component)),At=(a(70),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={ids:[],perfilamiento:[],paginaActual:1},e.siguientePagina=function(){e.setState({paginaActual:e.state.paginaActual+1})},e.quitarIds=function(e){var t,a=[],n=Object(bt.a)(e);try{for(n.s();!(t=n.n()).done;){var r,o=t.value,s={name:o.name,expirationDate:o.expirationDate,steps:[]},l=Object(bt.a)(o.steps);try{for(l.s();!(r=l.n()).done;){var c=r.value,i={name:c.name,requiredMonitorings:c.requiredMonitorings};s.steps.push(i)}}catch(u){l.e(u)}finally{l.f()}a.push(s)}}catch(u){n.e(u)}finally{n.f()}return a},e.obtenerIds=function(){var t,a=e.state.perfilamiento,n=[],r=Object(bt.a)(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.includes(o.fileId)||n.push(o.fileId)}}catch(s){r.e(s)}finally{r.f()}return n},e.crear=function(t){var a=e.state.perfilamiento,n=e.quitarIds(t),r={fileId:e.obtenerIds(),expirationDate:"",perfilamientosAsignados:a,instances:n};e.setState({loading:!0});var o=JSON.parse(sessionStorage.getItem("token")),s="Bearer ".concat(o);f.a.post(S.getAllPartitures+"/new",r,{headers:{Authorization:s}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&q()("Felicidades!","Se ha creado la partitura","success").then((function(){window.location.reload(window.location.href)}))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),e.setState({redirect:!0})):y(),console.log("Error: ",t)}))},e.cerrarModal=function(){document.getElementById("modal-casero").style.display="none",window.location.reload(window.location.href)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.paginaActual,n=t.ids;t.perfilamiento;return r.a.createElement("div",{className:"modal",id:"modal-casero"},r.a.createElement("div",{className:"hijo2"},r.a.createElement("div",{className:"boton-cerrar"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.cerrarModal()}},"x")),1===a&&r.a.createElement(Nt,{getData:function(t){e.setState({ids:t}),e.siguientePagina()}}),2===a&&r.a.createElement(Ct,{getData:function(t){e.setState({perfilamiento:t}),e.siguientePagina()},files:n}),3===a&&r.a.createElement(It,{getData:function(t){e.crear(t)}})))}}]),a}(n.Component)),Dt=a(45),Ut=a.n(Dt),Pt=a(32),jt=a.n(Pt),Mt=a(31),wt=a.n(Mt),xt=a(33),Jt=a.n(xt),Bt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).buscar=function(e){var t=e.target.value,a=n.state,r=a.filtredData,o=a.allPartitures;if(r=[],t){var s,l=Object(bt.a)(o);try{for(l.s();!(s=l.n()).done;){var c=s.value,i=c.name.toLowerCase();if(i===(t=t.toLowerCase()))r.push(c);else{for(var u=i.split(" "),m=t.split(" "),d=0,p=0;p<u.length;p++)for(var g=0;g<m.length;g++)u[p].indexOf(m[g])>=0&&d++;d===m.length&&r.push(c)}}}catch(f){l.e(f)}finally{l.f()}}else r=o;n.setState({filtredData:r})},n.verPartitura=function(e){n.setState({specific:!0,idSpecific:e})},n.crearPartitura=function(){n.setState({modalAgregar:!0})},n.eliminarPartitura=function(e){var t=JSON.parse(sessionStorage.getItem("token"));n.setState({loading:!0});var a={headers:{Authorization:"Bearer ".concat(t)}};f.a.delete(S.getAllPartitures+"/"+e,a).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1}),e.data.Success&&q()("Partitura eliminada correctamente",{icon:"success"}).then((function(){window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al intentar borrar el rol","error"),n.setState({loading:!1,redirect:!0})):y(),console.log("Error: ",e)}))},n.state={loading:!0,allPartitures:null,specific:!1,idSpecific:"",modalAgregar:!1,filtredData:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getAllPartitures,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({allPartitures:t.data.Data,filtredData:t.data.Data,loading:!1})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.allPartitures,n=t.loading,o=t.specific,s=t.idSpecific,l=t.modalAgregar,i=t.filtredData;return o?r.a.createElement(c.a,{to:"/partituras/".concat(s)}):r.a.createElement("div",null,n&&A(),r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),l&&r.a.createElement(At,null),r.a.createElement("div",{className:"section-content"},r.a.createElement("h4",null,"PARTITURAS"),C("POST|analytics/partitures/new")&&r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.crearPartitura()}},"Crear partitura"),r.a.createElement("input",{onChange:this.buscar,className:"form-control",placeholder:"Buscar por nombre de archivo"}),null!==a&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Fechas"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Estado"),r.a.createElement("th",{className:"tableIcons"},"Archivos"),r.a.createElement("th",{className:"tableIcons"},"Ver"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,i.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,ct()(t.dates.createdAt).format("DD/MM/YYYY HH:mm")),r.a.createElement("td",null,t.name),r.a.createElement("td",{className:"tableIcons"},"pending"===t.partitureStatus?r.a.createElement(wt.a,{className:"clockIcon"}):"finished"===t.partitureStatus?r.a.createElement(jt.a,null):r.a.createElement(Jt.a,null)),r.a.createElement("td",{className:"tableIcons"},t.fileId.length.toString()),r.a.createElement("td",{className:"tableIcons"},r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.verPartitura(t.id)}},r.a.createElement(Ut.a,{className:"verIcon"}))),r.a.createElement("td",{className:"tableIcons"},C("DELETE|analytics/partitures/:id")&&r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarPartitura(t.id)}},"Eliminar"),!C("DELETE|analytics/partitures/:id")&&r.a.createElement("button",{disabled:!0},"Eliminar")))}))))),r.a.createElement("div",{className:"footer"}))}}]),a}(n.Component),Vt=a(46),Gt=a.n(Vt),Lt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).fileChange=function(e){n.setState({selectedFile:e.target.files[0]}),n.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t),r=new FormData;r.append("file",e.target.files[0]),r.append("section",n.state.seccionSeleccionada),f.a.post(S.files,r,{headers:{Authorization:a}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.seleccionarOpcion(),n.setState({loading:!1})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),n.setState({loading:!1})):y(),console.log("Error: ",e)}))},n.eliminar=function(e){var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.delete(S.files+"/"+e+"?section="+n.state.seccionSeleccionada,{headers:{Authorization:a}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1}),n.seleccionarOpcion()})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),n.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))},n.descargar=function(e){window.open(S.download+"/"+e+"?urltemp=false","_blank").focus()},n.seleccionarOpcion=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&n.setState({seccionSeleccionada:e}),n.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a=t,r="Bearer ".concat(a);f.a.get(S.files+"?section="+n.state.seccionSeleccionada,{headers:{Authorization:r}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),n.setState({loading:!1});var t=e.data.Data;n.setState({respuesta:t})})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),n.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}))},n.state={seccionSeleccionada:"filesLibraryPartitures",loading:!1,respuesta:null,selectedFile:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.seleccionarOpcion()}},{key:"render",value:function(){var e=this,t=this.state,a=t.seccionSeleccionada,n=t.respuesta,o=t.loading;return r.a.createElement("div",null,o&&A(),r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),C("POST|files")&&r.a.createElement("div",{className:"uploadNomina"},r.a.createElement("div",null,r.a.createElement(He.a,null),r.a.createElement("input",{type:"file",name:"file",onChange:this.fileChange,id:"file"}))),r.a.createElement("div",{className:"section-content"},a&&r.a.createElement("select",{onChange:function(t){t.preventDefault();var a=t.target.value;e.seleccionarOpcion(a)},defaultValue:a},r.a.createElement("option",{value:"filesLibraryPartitures"},"Librer\xeda de archivos partitura")),n&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",{className:"tableIcons"},"Descargar"),r.a.createElement("th",{className:"tableIcons"},"Eliminar"))),r.a.createElement("tbody",null,n.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",{className:"tableIcons"}," ",r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.descargar(t.id)}},r.a.createElement(Gt.a,null))," "),C("DELETE|files/:id")&&r.a.createElement("td",{className:"tableIcons"}," ",r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminar(t.id)}},"Eliminar")," "),!C("DELETE|files/:id")&&r.a.createElement("td",{className:"tableIcons"}," ",r.a.createElement("button",{disabled:!0},"Eliminar")," "))}))))))}}]),a}(n.Component),Tt=(a(134),a(86)),Rt=a.n(Tt),Ht=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeStepRequiredMonitorings=function(e,t,a){var r,o=n.state.instances,s=Object(bt.a)(o);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(l.id===e){var c,i=Object(bt.a)(l.steps);try{for(i.s();!(c=i.n()).done;){var u=c.value;u.id===t&&(u.requiredMonitorings=parseInt(a))}}catch(m){i.e(m)}finally{i.f()}}}}catch(m){s.e(m)}finally{s.f()}n.setState({instances:o})},n.changeStepName=function(e,t,a){var r,o=n.state.instances,s=Object(bt.a)(o);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(l.id===e){var c,i=Object(bt.a)(l.steps);try{for(i.s();!(c=i.n()).done;){var u=c.value;u.id===t&&(u.name=a)}}catch(m){i.e(m)}finally{i.f()}}}}catch(m){s.e(m)}finally{s.f()}n.setState({instances:o})},n.eliminarStep=function(e,t){var a,r=n.state.instances,o=[],s=Object(bt.a)(r);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l;if(c.id===e){var i,u=[],m=Object(bt.a)(l.steps);try{for(m.s();!(i=m.n()).done;){var d=i.value;d.id!==t&&u.push(d)}}catch(p){m.e(p)}finally{m.f()}c.steps=u}o.push(c)}}catch(p){s.e(p)}finally{s.f()}n.setState({instances:o})},n.enviarPlantilla=function(){var e=n.state,t=e.name,a=e.instances,r=e.id;if(!t||"Nombre de la plantilla"===t||0===a.length)return q()("Error!","Debe ingresar valores para enviarlos","error"),!1;var o,s={name:t,instances:[]},l=Object(bt.a)(a);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c.name.includes("Nueva instancia"))return q()("Error","Debe cambiar el nombre de la instancia","Error"),!1;var i,u={name:c.name,steps:[]},m=Object(bt.a)(c.steps);try{for(m.s();!(i=m.n()).done;){var d=i.value,p={name:d.name,requiredMonitorings:d.requiredMonitorings};u.steps.push(p)}}catch(v){m.e(v)}finally{m.f()}s.instances.push(u)}}catch(v){l.e(v)}finally{l.f()}var g=JSON.parse(sessionStorage.getItem("token")),h={headers:{Authorization:"Bearer ".concat(g)}},E=s;r?f.a.put(S.getPartitureModels+"/"+r,E,h).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&(q()("Felicidades!","Se ha modificado la plantilla de partitura correctamente","success"),window.location.reload(window.location.href))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)})):f.a.post(S.getPartitureModels+"/new",E,h).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&(q()("Felicidades!","Se ha creado la plantilla de partitura correctamente","success"),window.location.reload(window.location.href))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)}))},n.eliminarInstance=function(e){var t,a=n.state.instances,r=[],o=Object(bt.a)(a);try{for(o.s();!(t=o.n()).done;){var s=t.value;s.id!==e&&r.push(s)}}catch(l){o.e(l)}finally{o.f()}n.setState({instances:r})},n.changeInstanceName=function(e,t){var a,r=n.state.instances,o=Object(bt.a)(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.id===e&&(s.name=t)}}catch(l){o.e(l)}finally{o.f()}n.setState({instances:r})},n.nuevaInstancia=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.state.instances,a=[];if(!1!==e){var r,o=Object(bt.a)(e.steps);try{for(o.s();!(r=o.n()).done;){var s=r.value;a.push({id:parseInt(Date.now()*Math.random()),name:s.name,requiredMonitorings:parseInt(s.requiredMonitorings)})}}catch(c){o.e(c)}finally{o.f()}}var l={id:parseInt(Date.now()*Math.random()),name:!1===e?"Nueva instancia ".concat(t.length+1):e.name,steps:a};n.setState({instances:[].concat(Object(ht.a)(t),[l])})},n.agregarPaso=function(e){var t,a=n.state.instances,r=Object(bt.a)(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.id===e&&o.steps.push({id:parseInt(Date.now()*Math.random()),name:"Nuevo paso ".concat(o.steps.length+1),requiredMonitorings:0})}}catch(s){r.e(s)}finally{r.f()}n.setState({instances:a})},n.cerrarModal=function(){document.getElementById("modal-casero").style.display="none",window.location.reload(window.location.href)},n.componentDidMount=function(){var e=n.props.idModificate;if(e){var t=JSON.parse(sessionStorage.getItem("token")),a={headers:{Authorization:"Bearer ".concat(t)}};f.a.get(S.getPartitureModels+"/"+e,a).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token));var a=t.data.Data[0];if(a){var r,o=Object(bt.a)(a.instances);try{for(o.s();!(r=o.n()).done;){var s=r.value;n.nuevaInstancia(s)}}catch(l){o.e(l)}finally{o.f()}n.setState({id:e,name:a.name})}})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)}))}},n.state={id:null,name:"Nombre de la plantilla",instances:[]},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.instances;return r.a.createElement("div",{className:"modal",id:"modal-casero"},r.a.createElement("div",{className:"hijo"},r.a.createElement("div",{className:"boton-cerrar"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.cerrarModal()}},"x")),r.a.createElement("div",{className:"partituresModels"},r.a.createElement("div",{className:"mainButtons"},r.a.createElement("input",{className:"form-control",type:"text",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}}),r.a.createElement("button",{className:"addItem morph",onClick:function(t){t.preventDefault(),e.nuevaInstancia()}},r.a.createElement(xe.a,{className:"svgAddButton",style:{fontSize:33}})),r.a.createElement("button",{className:"addItem morph",onClick:function(t){t.preventDefault(),e.enviarPlantilla()}},r.a.createElement(Rt.a,{className:"svgAddButton",style:{fontSize:33}}))),t&&r.a.createElement("div",{className:"AllInstances"},t.map((function(t,a){return r.a.createElement("div",{className:"instance"},r.a.createElement("div",{className:"mainButtons"},r.a.createElement("input",{className:"form-control",type:"text",value:t.name,onChange:function(a){e.changeInstanceName(t.id,a.target.value)}}),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.agregarPaso(t.id)}},r.a.createElement(xe.a,{style:{fontSize:25}})),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarInstance(t.id)}},r.a.createElement(te.a,null))),r.a.createElement("div",{className:"AllSteps"},t.steps&&t.steps.map((function(a,n){return r.a.createElement("div",{key:n,className:"step"},r.a.createElement("input",{className:"form-control",type:"text",value:a.name,onChange:function(n){e.changeStepName(t.id,a.id,n.target.value)}}),r.a.createElement("input",{className:"form-control",type:"number",value:a.requiredMonitorings,onChange:function(n){e.changeStepRequiredMonitorings(t.id,a.id,n.target.value)}}),r.a.createElement("button",{onClick:function(n){n.preventDefault(),e.eliminarStep(t.id,a.id)}},r.a.createElement(te.a,null)))}))))}))))))}}]),a}(n.Component),Ft=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).eliminarPlantilla=function(e){q()({title:"Estas seguro?",text:"Estas por eliminar una plantilla, no podr\xe1 recuperarla",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){if(t){var a=JSON.parse(sessionStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}};f.a.delete(S.getPartitureModels+"/"+e,n).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&(q()("Felicidades!","Plantilla eliminada correctamente","success"),window.location.reload(window.location.href))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error al eliminar!",{icon:"error"})):y(),console.log("Error: ",e)}))}else q()("No se elimino nada")}))},n.crearNuevo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0;!1!==e&&(t=e),n.setState({crearNuevo:t})},n.state={data:null,loading:!1,crearNuevo:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getPartitureModels,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({loading:!1});var a=t.data.Data;e.setState({data:a})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.crearNuevo,o=t.loading;return r.a.createElement("div",null,o&&A(),n&&r.a.createElement(Ht,{idModificate:n}),r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),r.a.createElement("div",{className:"section-content"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.crearNuevo()}},"Crear nuevo"),a&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Fecha de creaci\xf3n"),r.a.createElement("th",null,"Editar"),r.a.createElement("th",null,"Eliminar"))),r.a.createElement("tbody",null,a.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null," ",ct()(t.createdAt).format("DD/MM/YYYY")),r.a.createElement("td",null," ",r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.crearNuevo(t.id)}},"Editar")," "),r.a.createElement("td",null," ",r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarPlantilla(t.id)}},"Eliminar")," "))}))))))}}]),a}(n.Component),zt=(a(135),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).cerrarModal=function(){document.getElementById("modal-casero").style.display="none",window.location.reload(window.location.href)},n.handleChange=function(e){n.setState({value:e.target.value})},n.handleChangeFormato=function(e){n.setState({formato:e.target.value})},n.handleChangeDescripcion=function(e){n.setState({descripcion:e.target.value})},n.handleChangeArray=function(e){n.setState({valueArray:e.target.value})},n.handleChangeSelect=function(e){n.setState({valueSelect:e.target.value})},n.handleChangeSelectMP=function(e){n.setState({valueSelectMP:e.target.value})},n.handleChangeSelectPerfilamiento=function(e){n.setState({valueSelectPerfilamiento:e.target.value})},n.handleChangeRequired=function(e){var t=!n.state.esRequerido;n.setState({esRequerido:t})},n.handleSubmit=function(e){e.preventDefault();var t=!1,a=n.state,r=a.id,o=a.esRequerido,s=a.value,l=a.valueArray,c=a.valueSelect,i=a.valueSelectMP,u=a.valueSelectPerfilamiento,m=a.formato,d=a.descripcion;if(s||(t=!0),"radio"!==c&&"checkbox"!==c&&"select"!==c||l||(t=!0),t)return q()("Error","Hubo un problema con los par\xe1metros ingresados","error"),!1;var p={name:s,type:c,values:[],required:o,format:m,description:d,section:i,subsection:u};if(l){var g,h=l.split(","),E=Object(bt.a)(h);try{for(E.s();!(g=E.n()).done;){var v=g.value;v=v.trim(),p.values.push(v)}}catch(k){E.e(k)}finally{E.f()}}n.setState({loading:!0});var b=JSON.parse(sessionStorage.getItem("token")),N="Bearer ".concat(b);r?f.a.put(S.getAllForms+"/"+r,p,{headers:{Authorization:N}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&q()("Felicidades!","Se ha editado un campo personalizado correctamente","success").then((function(){window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)})):f.a.post(S.getAllForms+"/new",p,{headers:{Authorization:N}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&q()("Felicidades!","Se ha creado un campo personalizado correctamente","success").then((function(){window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),n.setState({redirect:!0})):y(),console.log("Error: ",e)}))},n.state={id:null,value:"",valueArray:"",valueSelect:"text",valueSelectMP:"P",valueSelectPerfilamiento:"RESP",esRequerido:!0,formato:"",descripcion:"",loading:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.idEditar;if(t){this.setState({loading:!0});var a=JSON.parse(sessionStorage.getItem("token")),n="Bearer ".concat(a);f.a.get(S.getAllForms+"/"+t,{headers:{Authorization:n}}).then((function(a){sessionStorage.setItem("token",JSON.stringify(a.data.loggedUser.token));var n,r=a.data.Data[0],o="",s=Object(bt.a)(r.values);try{for(s.s();!(n=s.n()).done;){var l=n.value;o?o+=", ".concat(l):o=l}}catch(c){s.e(c)}finally{s.f()}e.setState({id:t,loading:!1,value:r.name,valueSelect:r.type,valueArray:o,esRequerido:r.required,formato:r.format,descripcion:r.description,valueSelectMP:r.section,valueSelectPerfilamiento:r.subsection})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.valueSelect,n=t.valueSelectMP;return r.a.createElement("div",{className:"modal",id:"modal-casero"},r.a.createElement("div",{className:"hijo"},r.a.createElement("div",{className:"boton-cerrar"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.cerrarModal()}},"x")),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"formulario"},r.a.createElement("label",{htmlFor:"nombre",className:"label"},"*nombre: "),r.a.createElement("input",{type:"text",id:"nombre",value:this.state.value,onChange:this.handleChange,required:!0}),r.a.createElement("select",{value:this.state.valueSelect,onChange:this.handleChangeSelect},r.a.createElement("option",{value:"text"},"Texto"),r.a.createElement("option",{value:"area"},"\xc1rea de texto"),r.a.createElement("option",{value:"select"},"Lista desplegable"),r.a.createElement("option",{value:"radio"},"Selecci\xf3n \xfanica"),r.a.createElement("option",{value:"checkbox"},"Selecci\xf3n multiple")),a&&"text"!==a&&"area"!==a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"input1",className:"label"},"*Opciones separadas por coma"),r.a.createElement("input",{type:"text",id:"input1",value:this.state.valueArray,onChange:this.handleChangeArray,required:!0})),"text"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"input2",className:"label"},"Formato"),r.a.createElement("input",{type:"text",id:"input2",value:this.state.formato||"",onChange:this.handleChangeFormato})),r.a.createElement("label",{htmlFor:"checkbox",className:"label"},"*Es requerido"),r.a.createElement("input",{type:"checkbox",name:"esRequerido",checked:this.state.esRequerido,onChange:this.handleChangeRequired,id:"checkbox"}),r.a.createElement("input",{type:"text",placeholder:"Descricpi\xf3n",value:this.state.descripcion||"",onChange:this.handleChangeDescripcion}),r.a.createElement("select",{value:this.state.valueSelectMP,onChange:this.handleChangeSelectMP},r.a.createElement("option",{value:"P"},"Perfilamiento"),r.a.createElement("option",{value:"M"},"Monitoreo")),"P"===n&&r.a.createElement("select",{value:this.state.valueSelectPerfilamiento,onChange:this.handleChangeSelectPerfilamiento},r.a.createElement("option",{value:"RESP"},"Responsable"),r.a.createElement("option",{value:"GTE"},"Gerente"),r.a.createElement("option",{value:"COO"},"Coordinador on site"),r.a.createElement("option",{value:"ADM"},"Administrador"),r.a.createElement("option",{value:"COACH"},"Coach")),r.a.createElement("input",{type:"submit",value:"Guardar"}))))}}]),a}(n.Component)),qt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).abrirModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({openModal:!0,id:e})},n.eliminar=function(e){q()({title:"Estas seguro?",text:"Estas por eliminar un campo personalizado, no podr\xe1s recuperarlo",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){if(t){var a=JSON.parse(sessionStorage.getItem("token")),n={headers:{Authorization:"Bearer ".concat(a)}};f.a.delete(S.getAllForms+"/"+e,n).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),e.data.Success&&q()("Felicidades!","Campo personalizado eliminado correctamente","success").then((function(){window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error al eliminar!",{icon:"error"})):y(),console.log("Error: ",e)}))}else q()("No se elimino nada")}))},n.state={allForms:null,loading:!1,openModal:!1,id:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=JSON.parse(sessionStorage.getItem("token")),a="Bearer ".concat(t);f.a.get(S.getAllForms,{headers:{Authorization:a}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({allForms:t.data.Data,loading:!1})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.allForms,n=t.openModal,o=t.id,s=t.loading;return r.a.createElement("div",null,s&&A(),r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),n&&r.a.createElement(zt,{idEditar:o}),r.a.createElement("div",{className:"section-content"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.abrirModal()}},"Agregar nuevo"),a&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Valores"),r.a.createElement("th",null,"Requerido"),r.a.createElement("th",null,"Secci\xf3n"),r.a.createElement("th",null,"Fecha de creaci\xf3n"),r.a.createElement("th",null,"Formato"),r.a.createElement("th",null,"Editar"),r.a.createElement("th",null,"Eliminar"))),r.a.createElement("tbody",null,a.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,0===t.values.length&&r.a.createElement("div",null,"-"),t.values.length>0&&t.values.map((function(e,t){return r.a.createElement("div",{key:t},e)}))),r.a.createElement("td",null,t.required?"Requerido":"No requerido"),r.a.createElement("td",null,"P"===t.section.toUpperCase()?"Perfilamiento":"Monitoreo"),r.a.createElement("td",null,ct()(t.createdAt).format("DD/MM/YYYY")),r.a.createElement("td",null,t.format?t.format:"-"),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.abrirModal(t.id)}},"Editar")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminar(t.id)}},"Eliminar")))}))))))}}]),a}(n.Component),Yt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,urlUser:""},e.exportsDatabase=Object(Ot.a)(yt.a.mark((function t(){var a,n,r,o;return yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),a=JSON.parse(sessionStorage.getItem("token")),n="Bearer ".concat(a),t.prev=4,t.next=7,f.a.get(S.exportsDatabase+"?type=database&name=users",{headers:{Authorization:n}});case 7:r=t.sent,sessionStorage.setItem("token",JSON.stringify(r.data.loggedUser.token)),o=S.download+"/"+r.data.Data.tempId,e.setState({loading:!1,urlUser:o}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),t.t0.response.data.Success||401!==t.t0.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.t0.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,13]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.urlUser;return r.a.createElement(r.a.Fragment,null,a&&A(),r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),r.a.createElement("div",{className:"section-content"},r.a.createElement("h1",null,"Exportar"),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.exportsDatabase()}},"Tabla de usuarios"),""!==n&&r.a.createElement("a",{href:n,onClick:function(){setTimeout((function(){e.setState({urlUser:""})}),2e3)}},"Descargar")))}}]),a}(n.Component),Qt=a(39),Wt=a.n(Qt),Zt=a(50),Kt=a.n(Zt),Xt=a(51),_t=a.n(Xt),$t=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={id:null,loading:!1,data:null,idUsuario:null,goBack:!1,filtredData:null},e.buscar=function(t){var a=t.target.value,n=e.state,r=n.data,o=n.filtredData,s=r[0].users;if(a){o=[];var l,c=Object(bt.a)(s);try{for(c.s();!(l=c.n()).done;){var i=l.value,u="".concat(i.name," ").concat(i.lastName);if(i.id.indexOf(a)>=0)o.push(i);else if(u.indexOf(a)>=0)o.push(i);else{for(var m=u.split(" "),d=a.split(" "),p=0,g=0;g<m.length;g++)for(var f=0;f<d.length;f++)m[g].indexOf(d[f])>=0&&p++;p===d.length&&o.push(i)}}}catch(h){c.e(h)}finally{c.f()}}else o=s;e.setState({filtredData:o}),console.log(a)},e.descargarArchivos=function(){var e=Object(Ot.a)(yt.a.mark((function e(t){var a,n,r;return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(bt.a)(t);try{for(a.s();!(n=a.n()).done;)r=n.value,window.open(S.download+"/"+r+"?urltemp=false","_blank").focus()}catch(o){a.e(o)}finally{a.f()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.verUsuario=function(t){e.setState({idUsuario:t})},e.volver=function(){e.setState({goBack:!0})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({loading:!0});var a=JSON.parse(sessionStorage.getItem("token")),n="Bearer ".concat(a);f.a.get(S.getAllPartitures+"/"+t,{headers:{Authorization:n}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({loading:!1,data:t.data.Data,filtredData:t.data.Data[0].users||null})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,o=t.idUsuario,s=t.goBack,l=t.filtredData;if(n=n?n[0]:null,s)return r.a.createElement(c.a,{to:"/partituras"});if(o){var i=this.props.match.params.id;return r.a.createElement(c.a,{to:"/partituras/".concat(i,"/").concat(o)})}return r.a.createElement(r.a.Fragment,null,a&&A(),r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),n&&r.a.createElement("div",{className:"section-content"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.volver()}},"Partituras"),r.a.createElement("h1",null,"Archivo actual"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Fechas"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Estado"),r.a.createElement("th",{className:"tableIcons"},"Archivos"),r.a.createElement("th",{className:"tableIcons"},"Descargar"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,ct()(n.dates.createdAt).format("DD/MM/YYYY HH:mm")),r.a.createElement("td",null,n.name),r.a.createElement("td",null,"pending"===n.partitureStatus?r.a.createElement(wt.a,null):"finished"===n.partitureStatus?r.a.createElement(jt.a,null):r.a.createElement(Jt.a,null)),r.a.createElement("td",null,n.fileId.length),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.descargarArchivos(n.fileId)}},r.a.createElement(Gt.a,null)))))),r.a.createElement("h2",null,"Usuarios"),r.a.createElement("input",{onChange:this.buscar,className:"form-control",placeholder:"Buscar por usuario | Nombre o DNI"}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"DNI"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Canal"),r.a.createElement("th",null,"\xdaltima actualizaci\xf3n"),r.a.createElement("th",null,"Cluster"),r.a.createElement("th",null,"Responsable"),r.a.createElement("th",{className:"tableIcons"},"Estado"),r.a.createElement("th",{className:"tableIcons"},"Improvment"),r.a.createElement("th",{className:"tableIcons"},"Audios"),r.a.createElement("th",{className:"tableIcons"},"Ver"))),r.a.createElement("tbody",null,l&&l.map((function(t){return r.a.createElement("tr",{key:t.idDB},r.a.createElement("td",null,t.dni),r.a.createElement("td",null,t.name," ",t.lastName),r.a.createElement("td",null,t.canal),r.a.createElement("td",null,t.lastUpdate.map((function(e){return r.a.createElement("p",{key:e.date},ct()(e.date).format("DD/MM/YYYY")," - ",e.section," - ",e.user,r.a.createElement("br",null))}))),r.a.createElement("td",null,t.cluster),r.a.createElement("td",null,t.responsable),r.a.createElement("td",{className:"tableIcons"},"pending"===t.partitureStatus?r.a.createElement(wt.a,{className:"timerIcon"}):"finished"===t.partitureStatus?r.a.createElement(jt.a,{className:"CheckIcon"}):r.a.createElement(Jt.a,{className:"PlayArrowRoundedIcon"})),r.a.createElement("td",{className:"tableIcons"},"+"===t.improvment?r.a.createElement(Kt.a,{className:"arrowUp"}):"+-"===t.improvment?r.a.createElement(_t.a,{className:"arrowDown"}):r.a.createElement(Wt.a,null)),r.a.createElement("td",{className:"tablaVariables tableIcons"},r.a.createElement("div",{className:" ".concat(!(t.audioFilesRequired-t.audioFilesActually)<=0?"estadoInactivo ":"estadoActivo")})),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.verUsuario(t.idDB)}},r.a.createElement(Ut.a,{className:"verIcon"}))))}))))))}}]),a}(n.Component),ea=(a(136),a(87)),ta=a.n(ea),aa=a(88),na=a.n(aa),ra=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,data:null,redirect:!1,id:null,goBack:!1},e.modificarEstado=function(t){var a=e.props.match.params,n=a.id,r=a.idUsuario,o=[{stepId:t,completed:!0}],s=JSON.parse(sessionStorage.getItem("token")),l="Bearer ".concat(s);f.a.put(S.getAllPartitures+"/"+n+"/"+r,o,{headers:{Authorization:l}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token))})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Atenci\xf3n","No se ha agregado el grupo","info"),e.setState({redirect:!0})):y(),console.log("Error: ",t)}))},e.goToStep=function(t){e.setState({redirect:!0,id:t})},e.volver=function(){e.setState({goBack:!0})},e}return Object(m.a)(a,[{key:"getUsersColumns",value:function(){var e=this.state.data,t=(e=e?e[0]:null)?e.users[0]:null,a={headers:[],actual:[],comparativo:[]};for(var n in t.rowFromPartiture)if("id"!==n){var o=t.rowFromPartiture[n];a.headers.push(n),a.actual.push(o)}return r.a.createElement("table",{className:"longXTable"},r.a.createElement("thead",null,a.headers.length>0&&r.a.createElement("tr",null,r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Improvment"),a.headers.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,a.actual.length>0&&r.a.createElement("tr",null,r.a.createElement("td",null,"pending"===t.partitureStatus?r.a.createElement(wt.a,{className:"clockIcon"}):"finished"===t.partitureStatus?r.a.createElement(jt.a,null):r.a.createElement(Jt.a,null)),r.a.createElement("td",null,"+"===t.improvment?r.a.createElement(ta.a,{className:"arrowUp"}):"+-"===t.improvment?r.a.createElement(na.a,{className:"arrowDown"}):r.a.createElement(Wt.a,null)),a.actual.map((function(e,t){return r.a.createElement("th",{key:t},e)}))),a.comparativo.length>0&&r.a.createElement("tr",null,r.a.createElement("td",null,"January"),r.a.createElement("td",null,"$100"),a.comparativo.map((function(e,t){return r.a.createElement("th",{key:t},e)})))))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.id,n=t.idUsuario;this.setState({loading:!0});var r=JSON.parse(sessionStorage.getItem("token")),o="Bearer ".concat(r);f.a.get(S.getAllPartitures+"/"+a+"/"+n,{headers:{Authorization:o}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({loading:!1,data:t.data.Data})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.redirect,o=t.id,s=t.goBack,l=t.loading;a=a?a[0]:null;var i=new Date;return i=ct()(i),s?r.a.createElement(c.a,{to:"/partituras"}):n?r.a.createElement(c.a,{to:"/partituras/step/"+this.props.match.params.id+"/"+this.props.match.params.idUsuario+"/"+o}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),l&&A(),a&&r.a.createElement("div",{className:"section-content"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.volver()}},"Partituras"),r.a.createElement("h2",null,"Archivo actual"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Fechas"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Estado"),r.a.createElement("th",{className:"tableIcons"},"Archivos"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,ct()(a.dates.createdAt).format("DD/MM/YYYY HH:mm")),r.a.createElement("td",null,a.name),r.a.createElement("td",null,"pending"===a.partitureStatus?r.a.createElement(wt.a,{className:"clockIcon"}):"finished"===a.partitureStatus?r.a.createElement(jt.a,null):r.a.createElement(Jt.a,null)),r.a.createElement("td",null,a.fileId.length)))),r.a.createElement("h2",null,"Usuario actual"),this.getUsersColumns(),r.a.createElement("section",null,a.instances&&a.instances.map((function(t){return r.a.createElement("article",{key:t.id},r.a.createElement("h6",null,t.name),r.a.createElement("p",{className:ct()(t.dates.expirationDate).isBefore(i)?"fecha vencido":"fecha"},ct()(t.dates.expirationDate).format("DD/MM/YYYY")),r.a.createElement("div",{className:"steps"},t.steps.length>0&&t.steps.map((function(t){return r.a.createElement("span",{key:t.id},r.a.createElement("input",{type:"checkbox",onChange:function(){e.modificarEstado(t.id)},defaultChecked:t.completed}),r.a.createElement("p",{onClick:function(a){a.preventDefault(),e.goToStep(t.id)}},t.name),r.a.createElement("p",null,t.requestedMonitorings))}))))}))),r.a.createElement("div",{className:"footer"})))}}]),a}(n.Component),oa=(a(137),a(138),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={results:null,print:[]},e.changeValues=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t.target,o=r.type,s=r.value,l=e.state.print;"checkbox"===o&&(s=t.target.checked);var c,i=Object(bt.a)(l);try{for(i.s();!(c=i.n()).done;){var u=c.value;if(u.id===a.id)if("radio"===o)u.defaultValue="".concat(n,"|").concat(s);else if("checkbox"===o){var m="".concat(n,"|").concat(s);if(u.defaultValue){var d=u.defaultValue.split("@"),p=[],g=!1;u.defaultValue="";var f,h=Object(bt.a)(d);try{for(h.s();!(f=h.n()).done;){var E=f.value,v=E.split("|"),S=v[1];v=v[0],p.push({section:v,value:S})}}catch(O){h.e(O)}finally{h.f()}for(var b=0,N=p;b<N.length;b++){var k=N[b];k.section===n&&(k.value="true"===k.value?"false":"true",g=!0);var y="".concat(k.section,"|").concat(k.value);u.defaultValue=u.defaultValue?u.defaultValue+="@".concat(y):y}g||(u.defaultValue=u.defaultValue?u.defaultValue+="@".concat(n,"|").concat(s):"".concat(n,"|").concat(s))}else u.defaultValue=m}else u.defaultValue=s}}catch(O){i.e(O)}finally{i.f()}e.setState({print:l}),e.props.data(JSON.stringify(l))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fields,a=e.section,n=e.subsection,r=e.name,o=e.values,s=[];o=o?JSON.parse(o):[];var l,c=Object(bt.a)(t);try{var i=function(){var e=l.value;if(e.section===a&&e.subsection===n){var t=o.find((function(t){return t.id===e.id})),c={id:e.id,name:e.name,sectionName:r,required:e.required,defaultValue:"",type:e.type,values:e.values};t&&(c.defaultValue=t.defaultValue),s.push(c)}};for(c.s();!(l=c.n()).done;)i()}catch(u){c.e(u)}finally{c.f()}this.setState({print:s})}},{key:"render",value:function(){var e=this,t=this.state.print;return r.a.createElement(r.a.Fragment,null,t&&t.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"main"},t.name),"text"===t.type&&r.a.createElement("input",{type:"text",required:t.required,name:t.sectionName,value:t.defaultValue,onChange:function(a){e.changeValues(a,t)}}),"textarea"===t.type&&r.a.createElement("textarea",{cols:"30",rows:"10",required:t.required,name:t.sectionName}),"select"===t.type&&r.a.createElement("select",{required:t.required,name:t.sectionName,value:t.defaultValue,onChange:function(a){return e.changeValues(a,t)}},r.a.createElement("option",{value:"-"},"Selecciona..."),t.values.map((function(e){return r.a.createElement("option",{value:e},e)}))),"radio"===t.type&&r.a.createElement(r.a.Fragment,null,t.values&&t.values.map((function(a){var n=t.defaultValue.split("|"),o=n[1];return o=(n=n[0])===a&&"on"===o&&"on",r.a.createElement("div",{className:"labelsInputs"},r.a.createElement("input",{type:"radio",name:t.sectionName,checked:o,onChange:function(n){return e.changeValues(n,t,a)}}),r.a.createElement("label",{className:"forInputs"},a))}))),"checkbox"===t.type&&r.a.createElement(r.a.Fragment,null,t.values&&t.values.map((function(a){var n,o=t.defaultValue.split("@"),s=!1,l=Object(bt.a)(o);try{for(l.s();!(n=l.n()).done;){var c=n.value.split("|"),i=c[1];(c=c[0])===a&&"true"===i&&(s=!0)}}catch(u){l.e(u)}finally{l.f()}return r.a.createElement("div",{className:"labelsInputs"},r.a.createElement("input",{type:"checkbox",id:a,name:t.sectionName,checked:s,onChange:function(n){e.changeValues(n,t,a)}}),r.a.createElement("label",{className:"forInputs"},a))}))))})))}}]),a}(n.Component)),sa=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,data:null,archivosSeleccionados:[]},e.cerrarModal=function(){var t=e.state.archivosSeleccionados;e.props.getData(t)},e.seleccionarArchivo=function(t){e.setState((function(e){return{archivosSeleccionados:[].concat(Object(ht.a)(e.archivosSeleccionados),[t])}}))},e.eliminarArchivo=function(t){var a=e.state.archivosSeleccionados,n=a.findIndex((function(e){return e.id===t}));n>-1&&a.length>1?a.splice(n,1):1===a.length&&(a=[]),e.setState({archivosSeleccionados:a})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.archivosSeleccionados;null===t&&(t=[]),this.setState({loading:!0,archivosSeleccionados:t});var a=JSON.parse(sessionStorage.getItem("token")),n="Bearer ".concat(a);f.a.get(S.files+"?section=filesLibraryPartitures",{headers:{Authorization:n}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({data:t.data.Data,loading:!1})})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,o=t.archivosSeleccionados;return r.a.createElement("div",{className:"modal",id:"modal-casero"},r.a.createElement("div",{className:"hijo2"},r.a.createElement("div",{className:"boton-cerrar"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.cerrarModal()}},"x")),a&&A(),n&&r.a.createElement("div",{className:"section-content"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Acci\xf3n"))),r.a.createElement("tbody",null,n.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,null!==o&&o.find((function(e){return e.id===t.id}))&&r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarArchivo(t.id)}},"Eliminar"),null!==o&&!o.find((function(e){return e.id===t.id}))&&r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.seleccionarArchivo(t)}},"Agregar"),null===o&&r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.seleccionarArchivo(t)}},"Agregar")))})))))))}}]),a}(n.Component),la=a(89),ca=new(a.n(la).a)({bitRate:128}),ia=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isRecording:!1,blobURL:"",isBlocked:!1,dataSend:null},e.start=function(){e.state.isBlocked||ca.start().then((function(){e.setState({isRecording:!0})})).catch((function(e){return console.error(e)}))},e.send=function(t){var a=new FormData;a.append("file",t);var n=e.props.ids,r=n.id,o=n.idStep,s=n.idUsuario,l=JSON.parse(sessionStorage.getItem("token")),c="Bearer ".concat(l);f.a.post(S.getAllPartitures+"/"+r+"/"+s+"/"+o+"/files?section=coachings",a,{headers:{Authorization:c}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),window.location.reload(window.location.href)})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el arhcivo","error"),e.setState({loading:!1})):y(),console.log("Error: ",t)}))},e.stop=function(){ca.stop().getMp3().then((function(t){var a=Object(ut.a)(t,2),n=(a[0],a[1]),r=URL.createObjectURL(n),o=new Blob([n],{type:"audio/mp3"});e.setState({dataSend:o,blobURL:r,isRecording:!1})})).catch((function(e){return console.log(e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.getUserMedia({audio:!0},(function(){e.setState({isBlocked:!1})}),(function(){e.setState({isBlocked:!0})}))}},{key:"render",value:function(){var e=this,t=this.state.dataSend;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.start,disabled:this.state.isRecording},"Grabar"),r.a.createElement("button",{onClick:this.stop,disabled:!this.state.isRecording},"Parar"),r.a.createElement("audio",{src:this.state.blobURL,controls:"controls",type:"audio/mp3",id:"audio"}),r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.send(t)},disabled:!t},"Enviar"))}}]),a}(n.Component),ua=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,data:null,customFields:null,abrirModalAsignarArchivos:!1,archivosSeleccionados:null,value:"-",dataToSend:{},step:null,instances:null,valueCoach:"-",role:!1},e.asignarArchivos=function(){e.setState({abrirModalAsignarArchivos:!0})},e.armarObjeto=function(t){var a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a="string"===typeof t?t:t.target.name;var r=e.state.dataToSend;r[a]=!1===n?t.target.value:n,e.setState({dataToSend:r})},e.enviar=function(){var t=e.props.match.params,a=t.id,n=t.idStep,r=t.idUsuario,o=e.state,s=o.dataToSend,l={customFilesSync:o.archivosSeleccionados};for(var c in s)if(0===c.indexOf("#")){var i=c.substr(1,c.length),u=(i=i.split("/"))[0],m=i[1];m+="@".concat(s[c]),l[u]?l[u]+="%".concat(m):l[u]=m}else l[c]=s[c];var d=JSON.parse(sessionStorage.getItem("token")),p={headers:{Authorization:"Bearer ".concat(d)}};f.a.put(S.getAllPartitures+"/"+a+"/"+r+"/"+n,l,p).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token)),q()("Excelente","Paso modificado correctamente","success").then((function(){window.location.reload(window.location.href)}))})).catch((function(e){e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar los roles","error")):y(),console.log("Error: ",e)}))},e.eliminarArchivo=function(t){e.setState({loading:!0});var a=e.props.match.params.id,n=JSON.parse(sessionStorage.getItem("token")),r="Bearer ".concat(n);f.a.delete(S.getAllPartitures+"/"+a+"/"+t,{headers:{Authorization:r}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({loading:!1}),window.location.reload(window.location.href)})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))},e.descargarArchivoAudio=function(t){var a=e.props.match.params,n=a.id,r=a.idStep,o=a.idUsuario,s=JSON.parse(sessionStorage.getItem("token")),l="Bearer ".concat(s);f.a.get("".concat(S.getAllPartitures,"/").concat(n,"/").concat(o,"/").concat(r,"/").concat(t),{headers:{Authorization:l}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token));var t=e.data.Data;window.open(S.download+"/"+t,"_blank").focus()})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),e.setState({loading:!1}),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",t)}))},e.descargarArchivo=function(e){window.open(S.download+"/"+e+"?urltemp=false","_blank").focus()},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleChangeCoach=function(t){e.setState({valueCoach:t.target.value})},e.agregarArchivo=function(t){var a,n=new FormData;"file"===t?a=e.file[0]:"message"===t&&(a=document.getElementById("texto").value),n.append(t,a);var r=e.props.match.params,o=r.id,s=r.idStep,l=r.idUsuario,c=JSON.parse(sessionStorage.getItem("token")),i="Bearer ".concat(c);e.setState({loading:!0}),f.a.post(S.getAllPartitures+"/"+o+"/"+l+"/"+s+"/files?section=monitorings",n,{headers:{Authorization:i}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({loading:!1}),window.location.reload(window.location.href)})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el arhcivo","error"),e.setState({loading:!1})):y(),console.log("Error: ",t)}))},e.subirArchivo=function(){var t=e.archivoSeleccionado[0],a=e.props.match.params,n=a.id,r=a.idStep,o=a.idUsuario,s=JSON.parse(sessionStorage.getItem("token")),l="Bearer ".concat(s),c=new FormData;c.append("file",t),e.setState({loading:!0}),f.a.post(S.getAllPartitures+"/"+n+"/"+o+"/"+r+"/files?section=coachings",c,{headers:{Authorization:l}}).then((function(t){sessionStorage.setItem("token",JSON.stringify(t.data.loggedUser.token)),e.setState({loading:!1}),window.location.reload(window.location.href)})).catch((function(t){t.response.data.Success||401!==t.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(t.response.data.loggedUser.token)),q()("Error!","Hubo un problema al agregar el arhcivo","error"),e.setState({loading:!1})):y(),console.log("Error: ",t)}))},e}return Object(m.a)(a,[{key:"getUsersColumns",value:function(){var e=this.state.data,t=(e=e?e[0]:null)?e.users[0]:null,a={headers:[],actual:[],comparativo:[]};for(var n in t.rowFromPartiture)if("id"!==n){var o=t.rowFromPartiture[n];a.headers.push(n),a.actual.push(o)}return r.a.createElement("table",{className:"longXTable"},r.a.createElement("thead",null,a.headers.length>0&&r.a.createElement("tr",null,r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Improvment"),a.headers.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,a.actual.length>0&&r.a.createElement("tr",null,r.a.createElement("td",null,t.partitureStatus),r.a.createElement("td",null,t.improvment),a.actual.map((function(e,t){return r.a.createElement("th",{key:t},e)}))),a.comparativo.length>0&&r.a.createElement("tr",null,r.a.createElement("td",null,"January"),r.a.createElement("td",null,"$100"),a.comparativo.map((function(e,t){return r.a.createElement("th",{key:t},e)})))))}},{key:"componentDidMount",value:function(){var e=Object(Ot.a)(yt.a.mark((function e(){var t,a,n,r,o,s,l,c,i=this;return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params,a=t.id,n=t.idStep,r=t.idUsuario,this.setState({loading:!0}),o=(o=(o=JSON.parse(sessionStorage.getItem("userData"))).role[0]).role,s=JSON.parse(sessionStorage.getItem("token")),c="Bearer ".concat(l=s),f.a.get(S.getAllForms,{headers:{Authorization:c}}).then((function(e){l=e.data.loggedUser.token,c="Bearer ".concat(l);var t=e.data.Data;f.a.get(S.getAllPartitures+"/"+a+"/"+r+"/"+n,{headers:{Authorization:c}}).then((function(e){sessionStorage.setItem("token",JSON.stringify(e.data.loggedUser.token));var a=e.data.Data[0].instances[0],n=a?a.steps[0]:null;i.setState({loading:!1,data:e.data.Data,customFields:t,archivosSeleccionados:n.customFilesSync,step:n,instances:a,role:o||!1})}))})).catch((function(e){i.setState({loading:!1}),e.response.data.Success||401!==e.response.data.HttpCodeResponse?(sessionStorage.setItem("token",JSON.stringify(e.response.data.loggedUser.token)),q()("Error!","Hubo un problema","error")):y(),console.log("Error: ",e)}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.customFields,o=t.abrirModalAsignarArchivos,s=t.archivosSeleccionados,l=t.value,c=t.loading,i=t.step;a=a?a[0]:null;var u=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement(F,null),r.a.createElement(W,null)),c&&A(),o&&r.a.createElement(sa,{getData:function(t){e.setState({archivosSeleccionados:t,abrirModalAsignarArchivos:!1})},archivosSeleccionados:s}),a&&r.a.createElement("div",{className:"section-content"},r.a.createElement("h1",null,"Archivo actual"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Fechas"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",{className:"tableIcons"},"Estado de partitura"),r.a.createElement("th",{className:"tableIcons"},"Archivos inclu\xeddos"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,ct()(a.dates.createdAt).format("DD/MM/YYYY HH:mm")),r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.partitureStatus),r.a.createElement("td",null,a.fileId.length)))),r.a.createElement("h2",null,"Usuarios Actuales"),this.getUsersColumns(),i&&r.a.createElement("div",{className:"stepInformation"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.enviar()}},"Modificar"),r.a.createElement("h4",null,i.name),r.a.createElement("article",null,r.a.createElement("div",{className:"archivosCargados"},s&&s.map((function(t){return r.a.createElement("span",{key:t.id,onClick:function(a){a.preventDefault(),e.descargarArchivo(t.id)}},r.a.createElement("p",null,t.name))})),!s&&r.a.createElement("span",null," ",r.a.createElement("p",null,"No hay archivos seleccionados")," ")),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.asignarArchivos()}},"Asignar archivos")),r.a.createElement("div",{className:"information"},r.a.createElement("section",null,r.a.createElement("article",null,r.a.createElement("h6",null,"Lider"),r.a.createElement("div",{className:"archivosCargados"},i.audioFiles&&i.audioFiles.map((function(t){return"monitorings"!==t.section||(u++,r.a.createElement("span",{key:t._id,className:t.message&&"isMessage"},r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarArchivo(t._id)},style:{zIndex:1e4}},"X"),t.message&&r.a.createElement("p",{onClick:function(a){a.preventDefault(),e.descargarArchivoAudio(t._id)}},ct()(t.createdAt).format("DD/MM/YYYY")," - ",t.message," - type: M"),!t.message&&r.a.createElement("p",{onClick:function(a){a.preventDefault(),e.descargarArchivoAudio(t._id)}},ct()(t.createdAt).format("DD/MM/YYYY")," - type: F")))})),r.a.createElement("h6",null,"Media (Monitorings)"),r.a.createElement("p",null,"Audios requeridos: ",i.requestedMonitorings),r.a.createElement("p",null,"Audios faltantes: ",!1===i.audioFiles?i.requestedMonitorings:i.requestedMonitorings-u," ")),r.a.createElement("div",{className:"uploadAudioMon"},i.requestedMonitorings-u>0&&r.a.createElement("select",{value:this.state.value,onChange:this.handleChange},r.a.createElement("option",{value:"-"},"Selecciona..."),r.a.createElement("option",{value:"file"},"Audio"),r.a.createElement("option",{value:"message"},"Mensaje")),"file"===l&&r.a.createElement("input",{type:"file",name:"",id:"audio",onChange:function(t){e.file=t.target.files}}),"message"===l&&r.a.createElement("input",{type:"text",placeholder:"Mensaje explicando el porque no pudo cargar audios",name:"",id:"texto"}),"-"!==l&&r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.agregarArchivo(l)}},"Agregar")),r.a.createElement("label",{htmlFor:"ddt"},"Detalle de transacci\xf3n / Oportunidades indentificadas"),r.a.createElement("textarea",{name:"detalleTransaccion",id:"ddt",cols:"30",rows:"10",defaultValue:i.detalleTransaccion,onChange:this.armarObjeto}),r.a.createElement("label",{htmlFor:"cr"},"Causa Ra\xedz / Descripci\xf3n del patr\xf3n a mejorar"),r.a.createElement("textarea",{name:"patronMejora",id:"cr",cols:"30",rows:"10",defaultValue:i.patronMejora,onChange:this.armarObjeto}),r.a.createElement("label",{htmlFor:"cdr"},"Compromiso del representante"),r.a.createElement("textarea",{name:"compromisoRepresentante",id:"cdr",cols:"30",rows:"10",defaultValue:i.compromisoRepresentante,onChange:this.armarObjeto}),r.a.createElement("label",{htmlFor:"imp"},"Improvment"),r.a.createElement("select",{name:"improvment",id:"imp",defaultValue:i.improvment,onChange:this.armarObjeto},r.a.createElement("option",{value:""},"Selecciona"),r.a.createElement("option",{value:"+"},"Mejoro"),r.a.createElement("option",{value:"+-"},"Sigue igual"),r.a.createElement("option",{value:"-"},"Empeor\xf3")))),r.a.createElement("section",null,!1!==this.state.role&&"REPRESENTANTE"!==this.state.role&&r.a.createElement("article",null,r.a.createElement("h6",null,"Responsable"),n&&r.a.createElement(oa,{fields:n,section:"P",subsection:"RESP",values:i.responsibleComments,data:function(t){e.armarObjeto("responsibleComments",t)}})),!1!==this.state.role&&"REPRESENTANTE"!==this.state.role&&"LIDER"!==this.state.role&&r.a.createElement("article",null,r.a.createElement("h6",null,"Gerente"),n&&r.a.createElement(oa,{fields:n,section:"P",subsection:"GTE",values:i.managerComments,data:function(t){e.armarObjeto("managerComments",t)}})),!1!==this.state.role&&"REPRESENTANTE"!==this.state.role&&"LIDER"!==this.state.role&&"RESPONSABLE"!==this.state.role&&r.a.createElement("article",null,r.a.createElement("h6",null,"Coordinador On Site"),n&&r.a.createElement(oa,{fields:n,section:"P",subsection:"COO",values:i.coordinatorOnSiteComments,data:function(t){e.armarObjeto("coordinatorOnSiteComments",t)}})),!1!==this.state.role&&"REPRESENTANTE"!==this.state.role&&"LIDER"!==this.state.role&&"RESPONSABLE"!==this.state.role&&"GERENTE"!==this.state.role&&r.a.createElement("article",null,r.a.createElement("h6",null,"Administrador"),n&&r.a.createElement(oa,{fields:n,section:"P",subsection:"ADM",values:i.accountAdministratorComments,data:function(t){e.armarObjeto("accountAdministratorComments",t)}})),!1!==this.state.role&&"REPRESENTANTE"!==this.state.role&&"LIDER"!==this.state.role&&"RESPONSABLE"!==this.state.role&&"GERENTE"!==this.state.role&&r.a.createElement("article",null,r.a.createElement("h6",null,"Coach"),n&&r.a.createElement(oa,{fields:n,section:"P",subsection:"COACH",values:i.coachingComments,data:function(t){e.armarObjeto("coachingComments",t)}})))),r.a.createElement("article",{className:"coachingsAudios"},r.a.createElement("h6",null,"Media (Coachings)"),r.a.createElement("select",{value:this.state.valueCoach,onChange:this.handleChangeCoach},r.a.createElement("option",{value:"-"},"Selecciona..."),r.a.createElement("option",{value:"file"},"Audio"),r.a.createElement("option",{value:"record"},"Grabacion")),"file"===this.state.valueCoach&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"uploadAudio"},"Subir Audio"),r.a.createElement("input",{type:"file",onChange:function(t){e.archivoSeleccionado=t.target.files}}),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.subirArchivo()}},"Subir el archivo")),"record"===this.state.valueCoach&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"grabaraudio"},"Grabar Audio"),r.a.createElement(ia,{ids:this.props.match.params})),r.a.createElement("div",{className:"archivosCargados"},i.audioFiles&&i.audioFiles.map((function(t){return"coachings"!==t.section||(u++,r.a.createElement("span",{key:t._id,className:t.message&&"isMessage"},r.a.createElement("button",{onClick:function(a){a.preventDefault(),e.eliminarArchivo(t._id)},style:{zIndex:1e4}},"X"),t.message&&r.a.createElement("p",{onClick:function(a){a.preventDefault(),e.descargarArchivoAudio(t._id)}},ct()(t.createdAt).format("DD/MM/YYYY")," - ",t.message," - type: M"),!t.message&&r.a.createElement("p",{onClick:function(a){a.preventDefault(),e.descargarArchivoAudio(t._id)}},ct()(t.createdAt).format("DD/MM/YYYY")," - type: F")))})))))))}}]),a}(n.Component),ma=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.loading;return r.a.createElement(r.a.Fragment,null,e&&A(),r.a.createElement("div",{className:"logoBackground"},r.a.createElement("img",{src:K.a,alt:"",title:"Logo",className:"logoFixed"})),r.a.createElement(F,null),r.a.createElement("div",{className:"section-content tabla_parent",id:"gruposProgSection"},r.a.createElement("h4",{className:"marginBotton15"},"GRUPOS DE PROGRAMA"),r.a.createElement("div",null,r.a.createElement(We,null))))}}]),a}(n.Component);var da=function(){return r.a.createElement(l.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:k}),r.a.createElement(c.b,{path:"/addUser",component:Ne}),r.a.createElement(c.b,{path:"/administracion-formularios",component:qt}),r.a.createElement(c.b,{path:"/backoffice",component:ze}),r.a.createElement(c.b,{path:"/biblioteca",component:Lt}),r.a.createElement(c.b,{path:"/borrarPrograma",component:st}),r.a.createElement(c.b,{path:"/createGroup",component:Me}),r.a.createElement(c.b,{path:"/crearGrupoProgramas",component:Ye}),r.a.createElement(c.b,{path:"/changePassword",component:ve}),r.a.createElement(c.b,{path:"/crearPrograma",component:rt}),r.a.createElement(c.b,{path:"/createRole",component:Ge}),r.a.createElement(c.b,{path:"/deleteGroup",component:je}),r.a.createElement(c.b,{path:"/deleteUser",component:be}),r.a.createElement(c.b,{path:"/deleteRole",component:Le}),r.a.createElement(c.b,{path:"/editGroup",component:Ae}),r.a.createElement(c.b,{path:"/editUser",component:Se}),r.a.createElement(c.b,{path:"/editRole",component:Pe}),r.a.createElement(c.b,{path:"/editarGrupoProgramas",component:Qe}),r.a.createElement(c.b,{path:"/editarPrograma",component:ot}),r.a.createElement(c.b,{path:"/exportar-bases-de-datos",component:Yt}),r.a.createElement(c.b,{path:"/groups",component:Ie}),r.a.createElement(c.b,{path:"/home",component:X}),r.a.createElement(c.b,{path:"/login",component:k}),r.a.createElement(c.b,{path:"/modelo-de-partituras",component:Ft}),r.a.createElement(c.b,{exact:!0,path:"/partituras",component:Bt}),r.a.createElement(c.b,{exact:!0,path:"/partituras/step/:id/:idUsuario/:idStep",component:ua}),r.a.createElement(c.b,{exact:!0,path:"/partituras/:id",component:$t}),r.a.createElement(c.b,{exact:!0,path:"/partituras/:id/:idUsuario",component:ra}),r.a.createElement(c.b,{exact:!0,path:"/perfilamiento",component:ft}),r.a.createElement(c.b,{path:"/perfilamiento/cuartiles",component:St}),r.a.createElement(c.b,{path:"/perfilamiento/perfilamientos",component:vt}),r.a.createElement(c.b,{exact:!0,path:"/programas",component:et}),r.a.createElement(c.b,{exact:!0,path:"/programas/grupos",component:ma}),r.a.createElement(c.b,{path:"/roles",component:Ve}),r.a.createElement(c.b,{path:"/users",component:ge})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(da,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},16:function(e,t,a){e.exports=a.p+"static/media/logo_background.1046c23a.png"},55:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){e.exports=a.p+"static/media/qa_logos.61ea26c7.png"},72:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAADOCAYAAABy6u35AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADg5JREFUeNrsnb1SG8kWx3smcbhylR1xqzx2tI4kEjZyIcob7Q0Q+wCLeALDEwBPADyBxEaOLnJwN8KFKEdLghzhyMwGji5VZiFy5NsHHd3lekGaj+6ZPt3/f9WUqC0vaKb7N+ejT/dRCoIgCIIgCIIgCIIgCIIgCIIgCLKhCI+gOn39+rWhP1q3/lPC1yylfI0HLYqGeJoAxhcoWgwBfT65BUVi4c+N9HXJn3/qi0BKNVApRgLAuApHW19NBqTl0NcbMkjv6WdABGDqBGSRPxuCvn7KEB0DIABjE5KO/lhmQBKPbm3EAO1reEYYaQBjApKOMCtSVBQHDfS1B3gATB5361VAkExz3fb11YfbBmC+haTBgLxyLGB3KXFAVmeARxEwMBqUhCHpBm5N8lidPbY6lwAmLFA2GRSoWKxD4OyGCk4EUCCAA2AACsABMDmDeQJlHXO6MnC2NTS7AEYeLGRNdhDM15YcWPO5ODTyCJQWg9LGvK1dAwbHOzct9sH90teW/vEUsDgjWts61+PinUscCYeFrMqB8qvGyzcN2dqksDD1wjKxKoDFbZHVP+X6PFiYGkBJ2KqglEWe+vrakBzbRMJgobdUTyEDJlkjdtFEVkXHgmDZYcsCWGSLPIMjTv/DwlgApcGgtDHXvBNVCGwAGHOwtNgFQ7zir0St2USOw3IEFyyYuGZJAjSxo7B0AUtwcc05vyRhYQrA0sMcClKXbGlGAAawQB5AEwEWCNAIAwawQFKgiQALBGiEAANYIGnQRDXCQnVhB5gPkCRooppgwaIklFdOLG5GNcCSqPE+FsAC5YZGAzNf5xeIK4ZlUkgJWKAiauk51AsGGIVCSqi8unWeFVCZS8Zbijcx3pAhLdVxnFNUESxtDvIhyJQo+H9adRIgrgCWSdwCQSZVy7yqIoZBkA/ZUptdfT9cMg7OdjCud2rSMpx0POXfLfJnonCk1H2ar2pRM7IICxYnx0rV+DC7P/hzVMbv5nUsuigubCp53ZxtPeP5KuIZm8DQ4mSIKeRJg9XK2nt/0w69Eyg0lRyoEVkawNBcsQkkb+ruB3mrb+dygPBYTzVHFgaM3IVQSl/Ib6aGQgMXD3BgeLpq3M8zhPjHeumMDWAOAnizTXraD6V8Yd5Ksar8P9+NGjttiQAmgAVKAmVD8kn0PEY7HseXl5wAsDJGptdhfN0MNmT/eEV62wayiuy2rKlxdsk3Tdo1KqeB4QUk3/zkS7YoS761odP306c3MbkwHkLTZUvqpkvGweW5Z4G+t23n7hg/H4/kJUu65KqFWfcIlksGZSWYVtpRNMku+dQFuW3DypS2MJ5ZF9G9SwwmBXyp/0v1WD51zcL4Yl36yvFjSqtKCnBs48NzSEz3oSllYTyyLlZz90ItTYPjGulrakYXM8taGB+syxpgudPSXFIcx5ZXslomY5nCFsYT67LG6VVo+liTpekKvgVjGbMyFqYDWIKxNmvCLU3bVO+ZMsBsAhZAI0ivanPJhNeMAZZw3bOHZdfW4jpprUG7gMWIpZGaci4Nem4Lw8H+Z4EPa8BZH6i8laE5QHueEmFfvfRCZlwHpXU8KDWuzoXMWBlya+jlI610KCkb/BcBZlXgGAdTF1YhNOSWbQj86qXmby6XjLcfnwt7QFSev4spbs09k7bDlhZkH1ZlYaSVSQwBi3WtCXPNGtzMqxJgVgUOJmQ/npH2nJetA8PumKQNRtvStxMLgoY22w0FfeV2FRZGkjuWoqAS1nyKCmfL8gCzKMm6YP5WbmXImkuKFwsZgMxZMk3kV0GB/hKmcPUSVsFeaJ7EGR9EW9C4wbrUmwDYkxLHMOBWXDIpwKS+HYckUJLcsrYtYKTEL7AubliZvpCvmzvwzxTDCIlfSq3gQkZjmUTJqAjJHcfEGW5eiju2h6nqjJVJlYx1GSsumZTFyj6mqlPaF2INW6aBaQq47xFW9Z3TQMj3NA5MgrcZ5HHw3zQNjIQYZoAp6qSOfbMw0Qz/jqyL69kO623aoMLxgYTt7Lmyq7MsjAR3bIip6bRb5vqBGblW+2cBIyFDdoyp6bTeCLCEbVPAiCiiw5zE+FSlWcC4XhIzwuEWzkvCGWbGLAwGAzIRx6ShWBjXg/4/MCVFyHVgmqEAg/hFhlxPzDRMAQNBJuRNnDlr4dLpsn7tH0eYi+5LQreHrHMpnnGTEAR54pKlGD4xGgEYAANld3cuAQwEwSWDIAjAQBCAgSAAA0EAxpIaGD4IwGRXC8MnQz4tgk8DBqXzEJQVGAmLTWVbSEOVKYFLhjgGAjB/k+tWBhZGhpqhAON6HPMEcxEWBi4ZLIxvaoUCjOsWpo256LZ821c1C5g/MSAQrIs/FgZumftaDAmYVMA9LGNOwm2uSjM3/gvpb/kQJ2A66S539MeBCBDKHoIhzC3rYHrCHXPBJYNbBuFFlhOY9xIGhpv3QG65Y0mIwAzxNoNg9bMH/RLart3EWmjd54x1kTJnzAf9QtqukVpYxHRG677eWNZaMilu2SvMVSe0GjowUvpIdrjzM1SfO9b1MdjPHMMI9En72o1cw9StDZhzicCYXLiUFMeQuti6XBss6z5blzwumaQ4hrSD6Vs5LOSFbPp+n3mA2Rd0X21eOIOqE8Hi/eJxrg5ewvzTVF/zKMqsxLqQC3wqGgSTMYxQtywJwUVwRL1QbjSvhRFTrn1LS/rlMcScNhan0BxY5BdS2xsQMlqYqMBDk5Y2hGtmBhRKpHQuLi4aZ2dn6j8XF0r/rL58+XLzbx48eKAePXqk/jE3p549e3bzM4AZPzx6cNJKHwb6eaxg6heChcZ68+zDh8bJyYm6urrK9P8RMD8sLNzAEzowUgO8bf1MtoBArrHuXV1fdw8PD9WnT58K/Q4C5seXL28sUJDA8IMkYCQuDq7o5zIACtlg0S5X918HB/9zu4qKYPl5ZcVpN81WlmyiPaHzoIcqgGphIdHvoN9FMY/45ECJIJCCf4kLVRT8U+YM7TzuHtuOnuAH+7/+agQWKZbGqoXhjFNf6JwgyI9gae59EfYO3741DosvlqbM2cp7gucGoLlb6zq4b3z8+NHaH5AOTWFgtJVJBVsZQHO3Vn8/ObH+RyRDU/b0/m3hEwTQ/OWOta6ur5Oi6eNQoCkFDFuZoQfQnPJOwZDVsemK+QKNif4w255MGEo59wIGplnHxJUGTWlguLCx78mkod2ap4GeC9DIWvYSMjSmOpBtezRxWuyirYdCCqeTa11TkwKNEWA8yJjdFdfs6Il05Lu14bPcnCh1kgCNyR6XG8r9rst5RZPpXE+qLd/ObqYXgb5ob9ORcmi7huvQGAOGV//3lJ/aZHC6Prhf9AJgq/J/5x48dqRkxWVojHZR5vL51NegWI0zaSLBuQXKubrnwIq5uTlnvq+r0NhoO+77IXoJg/OZXbXEcVBanC7/rGac7EJ7V1zat+IiNMaB8SzNPMviTFy1A5esDluTdd63RFfm7+baDknXoIlsDZiSW/5fRhTH0QvjjRpvi76sEJJE/XVAReEz2a6ur9Xr16+tVCuXke2tAVZ3XGYcQIknzJjWiAGiLm4jk3twOB1MqeCmGmfzjLmGo/fv1bt375x7mDahqR0YHtReHncgIIjI8kw6IqQzEiUtttTf8c+JqiAN/O/fflNV15bVCY0rwDTYh07AiSy5nNq1AY3tPf1ZvwS9SXG8kUC5vJ24Tphj23+A/fYNTEFA4wM0UVV/iMswcKI+3DMnoXYihrkjnjlSMs8zAzSeQ+NEDHNHPENVADjjGO6ZWJjjKm+M4xn0nwQ0YqGJq74xPqoV0AAakdDEddyYhqavP3Yx/QCNNGiiOm8OlQBIBLgCtXNB/z1fklyzPqYeLI0UmOO6bwzQABpJ0ESu3BwWNuGe1Qm1CJfsmy+8AksDS+M6zLFLNwb3DNC4Dk3s2o0BGkDjMjSxiw+doUGFM6BxDprI5QfPB0v0MAWRCLANtXPVyiWgoepmqnJuYAoCGlvQiMuSTXHPqGDzqRrvhYfgnlmBOWurk1jCQ6etAfqaV6g/AzSWoNGf3Sxny8WSHryGhhIBtF6DPTWAxig0dEqOGndsSLwBhqGh7QHzcNEAjUlRb8+zDx8mp5n6AwxDk7KLto1pCGhM6WTcQbo7rbVJLPnhc7cAWBtAY0TUspAPL+x6CQxDM2Jr42NDJ0BTsT6e05HgatlbYG6Bs8vWZoDpCGjKxDJqyslGsU8DwLENZdGW4KYBmqJumZqySB77OAjUo4bdNKpJSzEtAU0e8UJmOxhgboHT1xdVCWwjvgE0WTWtN04cwmBwNm0CDiwOoJkq7vWZBgsMQ0PlNVtsceCqAZqZ8XDQwNzjqlFyAFk1QPOtdRkF7ZLNSA6swF0DNBNxU9whgJlhfm+5a2R1+kgShAnN8++/p499AJPP6qzp66EaV0bvwvKEAc3z58/p701t3hthSLKJd3621bhsoo0nUq1s79wkMFd/+YU+l+ilCWDMA9RmcKjt96S7MSQUmn/+9BPFLwOOaRWAsQ9Qg8EhiJ4wQJOW4ZDD0PywsKAWFhbI7Z7nxl8AxgF3rsEQTSzRdwrtC4tC0z58+3ZSil9KL168UK1mkyBZmha7ABhI8guoqz92Tk5OGr+PN30Vill+fPmS3LCbrnhZYAEwkHSr3bu6vm7RTsmzs7PMoGiLopr60j9TBnR7lhsGYCDfrM2mBichF432s1B8w2X6N6KU9OPHj29W8XmdZcigDPP+PQAD+WRxqF3Kovp7soUCenK5jvU1uK9ODIIgCIIgCIIgCIIgCIKgLPqvAAMAufJsvk5gZaEAAAAASUVORK5CYII="},73:function(e){e.exports=JSON.parse('{"a":"0.2.0"}')},91:function(e,t,a){e.exports=a(139)},96:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.1a3038ea.chunk.js.map